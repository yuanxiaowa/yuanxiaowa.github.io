(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["music-id"],{3272:function(t,e,n){"use strict";n.d(e,"a",function(){return E}),n.d(e,"b",function(){return O}),n.d(e,"c",function(){return q});var r=n("4795"),i=n.n(r),o=n("bc3a"),u=n.n(o),a=n("4758"),c=n("9530"),s=n.n(c),f=n("53b8");function l(){var t=y(["\n      query {\n        musicSites {\n          text\n          value\n        }\n      }\n    "]);return l=function(){return t},t}function p(){var t=y(["\n      query($type:String!) {\n        musicRecomms(type:$type)\n      }\n    "]);return p=function(){return t},t}function h(){var t=y(["query ($kw: String!,$type:String!, $page:Int) {\n        musicSearch(kw:$kw, type:$type,page:$page) {\n          page\n          pages\n          items\n        }\n      }"]);return h=function(){return t},t}function y(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function d(t,e){return w(t)||m(t,e)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done);r=!0)if(n.push(u.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}function w(t){if(Array.isArray(t))return t}function b(t,e,n,r,i,o,u){try{var a=t[o](u),c=a.value}catch(s){return void n(s)}a.done?e(c):Promise.resolve(c).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function u(t){b(o,r,i,u,a,"next",t)}function a(t){b(o,r,i,u,a,"throw",t)}u(void 0)})}}function _(t,e){return"歌手：".concat(t," ").concat(e?" &nbsp; 专辑：".concat(e):"")}var x={search:function(){var t=g(i.a.mark(function t(e,n){var r,o,a,c;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("https://api.imjad.cn/cloudmusic/",{params:{type:"search",s:e,offset:n}});case 2:if(r=t.sent,o=r.data,200===o.code){t.next=6;break}throw new Error("加载失败...");case 6:return a=o.result.songCount,c=o.result.songs.map(function(t){return{author:t.ar[0].name,cover:t.al.picUrl,title:t.al.name,arName:t.name,id:t.id,mv:t.mv,desc:_(t.ar[0].name,t.name)}}),t.abrupt("return",{page:n+1,pages:Math.ceil(a/20),items:c});case 9:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),getUrl:function(t){return u.a.get("https://api.imjad.cn/cloudmusic/?type=song&br=128000&id=".concat(t)).then(function(t){var e=d(t.data.data,1),n=e[0].url;if(!n)throw new Error("抱歉，该歌曲不存在");return n})},getLyric:function(t){return u.a.get("https://api.imjad.cn/cloudmusic/?type=lyric&br=128000&id=".concat(t)).then(function(t){var e=t.data;if(200!==e.code)throw new Error(e);if(e.nolyric||!e.lrc)throw new Error("无歌词");return e.lrc.lyric})},getRecoms:function(){throw new Error("暂无功能")},getHotKey:function(){throw new Error("暂无功能")},getSmartbox:function(t){throw new Error("暂无功能")},getMvUrl:function(t){return u.a.get("https://api.imjad.cn/cloudmusic/?type=mv&br=128000&id=".concat(t)).then(function(t){var e=t.data,n=e.data,r=e.code;if(200!==r)throw new Error("抱歉，没有找到该mv");return{cover:n.cover,url:n.brs[Object.keys(n.brs)[0]]}})}},k={search:function(){var t=g(i.a.mark(function t(e,n,r){var o,u,a,c,l;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].query({query:s()(h()),variables:{kw:e,page:n,type:r}});case 2:return o=t.sent,u=o.data.musicSearch,a=u.page,c=u.pages,l=u.items,t.abrupt("return",{page:a,pages:c,items:l});case 8:case"end":return t.stop()}},t)}));function e(e,n,r){return t.apply(this,arguments)}return e}(),getLyric:function(t){throw new Error("暂无功能")},getUrl:function(t){throw new Error("暂无功能")},getRecoms:function(){throw new Error("暂无功能")},getHotKey:function(){throw new Error("暂无功能")},getSmartbox:function(t){throw new Error("暂无功能")},getMvUrl:function(t){throw new Error("暂无功能")}},j=(function(){var t=g(i.a.mark(function t(e,n){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:throw new Error("暂无功能");case 1:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}}(),function(){var t=g(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["d"])("https://u.y.qq.com/cgi-bin/musicu.fcg?data={%22comm%22:{%22ct%22:24},%22recomPlaylist%22:{%22method%22:%22get_hot_recommend%22,%22param%22:{%22async%22:1,%22cmd%22:2},%22module%22:%22playlist.HotRecommendServer%22},%22playlist%22:{%22method%22:%22get_playlist_by_category%22,%22param%22:{%22id%22:8,%22curPage%22:1,%22size%22:40,%22order%22:5,%22titleid%22:8},%22module%22:%22playlist.PlayListPlazaServer%22},%22new_album%22:{%22module%22:%22music.web_album_library%22,%22method%22:%22get_album_by_tags%22,%22param%22:{%22area%22:7,%22company%22:-1,%22genre%22:-1,%22type%22:-1,%22year%22:-1,%22sort%22:2,%22get_tags%22:1,%22sin%22:0,%22num%22:40,%22click_albumid%22:0}},%22toplist%22:{%22module%22:%22music.web_toplist_svr%22,%22method%22:%22get_toplist_index%22,%22param%22:{}}}");case 2:return e=t.sent,n=e.recomPlaylist.data.v_hot,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}}(),function(){var t=g(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["d"])("https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg?","jsonpCallback");case 2:return e=t.sent,n=e.data.hotkey,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}}(),function(){var t=g(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["d"])("https://c.y.qq.com/splcloud/fcgi-bin/smartbox_new.fcg?&key=".concat(encodeURIComponent(e)),"jsonpCallback");case 2:return n=t.sent,r=n.data.song.itemlist,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}}(),{search:function(){var t=g(i.a.mark(function t(e,n){var r,o,a;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("https://api.apiopen.top/searchMusic",{params:{name:e}});case 2:return r=t.sent,o=r.data,a=o.result.map(function(t){return Object.assign(t,{cover:t.pic,type:"",id:t.songid})}),t.abrupt("return",{page:1,pages:1,items:a});case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),getUrl:function(t){return u.a.get("https://api.apiopen.top/musicDetails?id=".concat(t)).then(function(t){var e=d(t.data.result.songList,1),n=e[0].songLink;if(!n)throw new Error("抱歉，该歌曲不存在");return n})},getLyric:function(){var t=g(i.a.mark(function t(e){var n,r,o;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("https://api.apiopen.top/musicDetails?id=".concat(e)).then(function(t){var e=d(t.data.result.songList,1),n=e[0].lrcLink;return n});case 2:return n=t.sent,t.next=5,u.a.get(n);case 5:return r=t.sent,o=r.data,t.abrupt("return",o);case 8:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),getRecoms:function(){throw new Error("暂无功能")},getHotKey:function(){throw new Error("暂无功能")},getSmartbox:function(t){throw new Error("暂无功能")},getMvUrl:function(t){throw new Error("暂无功能")}}),P={wangyiyun:x,qqjt:j};function E(t){return P[t]||k}function O(t){return S.apply(this,arguments)}function S(){return S=g(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].query({fetchPolicy:"cache-and-network",query:s()(p()),variables:{type:e}});case 2:return n=t.sent,r=n.data.musicRecomms,t.abrupt("return",r);case 5:case"end":return t.stop()}},t)})),S.apply(this,arguments)}function q(){return M.apply(this,arguments)}function M(){return M=g(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].query({fetchPolicy:"cache-and-network",query:s()(l())});case 2:return e=t.sent,n=e.data.musicSites,t.abrupt("return",n);case 5:case"end":return t.stop()}},t)})),M.apply(this,arguments)}},"3c75":function(t,e,n){(function(e,n){t.exports=n()})(0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(11),i=n(16),o=n(18),u=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return u(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(8),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(9),__esModule:!0}},function(t,e,n){n(19);var r=n(2).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(1);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(1),i=n(4).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(4),i=n(2),o=n(12),u=n(15),a="prototype",c=function(t,e,n){var s,f,l,p=t&c.F,h=t&c.G,y=t&c.S,d=t&c.P,v=t&c.B,m=t&c.W,w=h?i:i[e]||(i[e]={}),b=w[a],g=h?r:y?r[e]:(r[e]||{})[a];for(s in h&&(n=e),n)f=!p&&g&&void 0!==g[s],f&&s in w||(l=f?g[s]:n[s],w[s]=h&&"function"!=typeof g[s]?n[s]:v&&f?o(l,r):m&&g[s]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((w.virtual||(w.virtual={}))[s]=l,t&c.R&&b&&!b[s]&&u(b,s,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(5),i=n(17);t.exports=n(0)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(0)&&!n(3)(function(){return 7!=Object.defineProperty(n(13)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(1);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(14);r(r.S+r.F*!n(0),"Object",{defineProperty:n(5).f})},function(t,e,n){var r,i,o;(function(u,a){i=[t,e,n(6),n(7)],r=a,o="function"===typeof r?r.apply(e,i):r,void 0===o||(t.exports=o)})(0,function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n),o=u(r);function u(t){return t&&t.__esModule?t:{default:t}}var a=/\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g,c=0,s=1,f={title:"ti",artist:"ar",album:"al",offset:"offset",by:"by"};function l(){}var p=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;(0,i.default)(this,t),this.lrc=e,this.tags={},this.lines=[],this.handler=n,this.state=c,this.curLine=0,this._init()}return(0,o.default)(t,[{key:"_init",value:function(){this._initTag(),this._initLines()}},{key:"_initTag",value:function(){for(var t in f){var e=this.lrc.match(new RegExp("\\["+f[t]+":([^\\]]*)]","i"));this.tags[t]=e&&e[1]||""}}},{key:"_initLines",value:function(){for(var t=this.lrc.split("\n"),e=0;e<t.length;e++){var n=t[e],r=a.exec(n);if(r){var i=n.replace(a,"").trim();i&&this.lines.push({time:60*r[1]*1e3+1e3*r[2]+10*(r[3]||0),txt:i})}}this.lines.sort(function(t,e){return t.time-e.time})}},{key:"_findCurNum",value:function(t){for(var e=0;e<this.lines.length;e++)if(t<=this.lines[e].time)return e;return this.lines.length-1}},{key:"_callHandler",value:function(t){t<0||this.handler({txt:this.lines[t].txt,lineNum:t})}},{key:"_playRest",value:function(){var t=this,e=this.lines[this.curNum],n=e.time-(+new Date-this.startStamp);this.timer=setTimeout(function(){t._callHandler(t.curNum++),t.curNum<t.lines.length&&t.state===s&&t._playRest()},n)}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1];this.lines.length&&(this.state=s,this.curNum=this._findCurNum(t),this.startStamp=+new Date-t,e||this._callHandler(this.curNum-1),this.curNum<this.lines.length&&(clearTimeout(this.timer),this._playRest()))}},{key:"togglePlay",value:function(){var t=+new Date;this.state===s?(this.stop(),this.pauseStamp=t):(this.state=s,this.play((this.pauseStamp||t)-(this.startStamp||t),!0),this.pauseStamp=0)}},{key:"stop",value:function(){this.state=c,clearTimeout(this.timer)}},{key:"seek",value:function(t){this.play(t)}}]),t}();e.default=p,t.exports=e["default"]})}])})},5342:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-xs-center"},[t.url&&!t.error_text?n("audio",{ref:"audio",attrs:{src:t.url,controls:"",autoplay:""},on:{timeupdate:t.onUpdate,play:t.onPlay,pause:t.onPause,error:t.onError}}):t.error_text?n("div",{staticClass:"error--text"},[t._v(t._s(t.error_text))]):t._e(),n("div",t._l(t.lyric_lines,function(e,r){return n("div",{key:r,class:r===t.current_line?"primary--text":"",domProps:{innerHTML:t._s(e)}})}),0)])},i=[],o=n("4795"),u=n.n(o),a=n("9ab4"),c=n("60a3"),s=n("3c75"),f=n.n(s),l=n("3272"),p=n("4bb5");function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(t,e,n,r,i,o,u){try{var a=t[o](u),c=a.value}catch(s){return void n(s)}a.done?e(c):Promise.resolve(c).then(r,i)}function d(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function u(t){y(o,r,i,u,a,"next",t)}function a(t){y(o,r,i,u,a,"throw",t)}u(void 0)})}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function b(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}var j=Object(p["e"])("music"),P=function(t){function e(){var t;return v(this,e),t=b(this,_(e).apply(this,arguments)),t.url="",t.lyric_lines=[],t.current_line=0,t.error_text="",t}return x(e,t),w(e,[{key:"created",value:function(){var t=d(u.a.mark(function t(){var e,n,r,i,o,a=this;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.$route.params.id,n=this.$route.query,r=n.url,i=n.type,r?this.url=r:(o=Object(l["a"])(i),o.getUrl(e).then(function(t){a.url=t,a.$nextTick(function(){a.$refs.audio.play()})},function(){return a.$toast("抱歉，歌曲加载失败！！！")}),o.getLyric(e).then(function(t){a.lyricer=new f.a(t,a.onLyricUpdate),a.lyric_lines=a.lyricer.lines.map(function(t){var e=t.txt;return e||"&nbsp;"})})),this.setPlaying(!1);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"onUpdate",value:function(){var t=this.$refs.audio;this.lyricer&&this.lyricer.seek(1e3*t.currentTime)}},{key:"onLyricUpdate",value:function(t){t.txt;var e=t.lineNum;this.current_line=e}},{key:"onPlay",value:function(){this.lyricer&&this.lyricer.play()}},{key:"onError",value:function(){this.error_text="抱歉播放出错了"}},{key:"onPause",value:function(){this.lyricer&&this.lyricer.stop()}}]),e}(c["d"]);a["b"]([j.Mutation],P.prototype,"setPlaying",void 0),P=a["b"]([Object(c["a"])({})],P);var E=P,O=E,S=n("2877"),q=n("bdb0"),M=n.n(q),T=Object(S["a"])(O,r,i,!1,null,null,null);"function"===typeof M.a&&M()(T);e["default"]=T.exports},bdb0:function(t,e){}}]);