(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["music-index"],{"2c53":function(t,e,n){},"2f34":function(t,e,n){"use strict";var r=n("2c53"),a=n.n(r);a.a},3272:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("6eec"),a=n("9393"),i=n("a34a"),c=n.n(i),o=n("3040"),s=n("bc3a"),u=n.n(s),l=n("4758"),p=n("9530"),h=n.n(p),f=n("53b8");function v(){var t=Object(r["a"])(["query ($kw: String!,$type:String!, $page:Int) {\n        musicSearch(kw:$kw, type:$type,page:$page) {\n          page\n          pages\n          items\n        }\n      }"]);return v=function(){return t},t}var y={search:function(){var t=Object(o["a"])(c.a.mark(function t(e,n){var r,a,i,o;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("https://api.imjad.cn/cloudmusic/",{params:{type:"search",s:e,offset:n}});case 2:if(r=t.sent,a=r.data,200===a.code){t.next=6;break}throw new Error("加载失败...");case 6:return i=a.result.songCount,o=a.result.songs.map(function(t){return{singer:t.name,cover:t.al.picUrl,title:t.al.name,arName:t.ar[0].name,id:t.id,mv:t.mv}}),t.abrupt("return",{total:i,items:o});case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getUrl:function(t){return u.a.get("https://api.imjad.cn/cloudmusic/?type=song&br=128000&id=".concat(t)).then(function(t){var e=Object(a["a"])(t.data.data,1),n=e[0].url;if(!n)throw new Error("抱歉，该歌曲不存在");return n})},getLyric:function(t){return u.a.get("https://api.imjad.cn/cloudmusic/?type=lyric&br=128000&id=".concat(t)).then(function(t){var e=t.data;if(200!==e.code)throw new Error(e);if(e.nolyric||!e.lrc)throw new Error("无歌词");return e.lrc.lyric})},getRecoms:function(){throw new Error("暂无功能")},getHotKey:function(){throw new Error("暂无功能")},getSmartbox:function(t){throw new Error("暂无功能")},getMvUrl:function(t){return u.a.get("https://api.imjad.cn/cloudmusic/?type=mv&br=128000&id=".concat(t)).then(function(t){var e=t.data,n=e.data,r=e.code;if(200!==r)throw new Error("抱歉，没有找到该mv");return{cover:n.cover,url:n.brs[Object.keys(n.brs)[0]]}})}},d={search:function(){var t=Object(o["a"])(c.a.mark(function t(e,n,r){var a,i,o,s;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f["a"].query({query:h()(v()),variables:{kw:e,page:n,type:r}});case 2:return a=t.sent,i=a.data.musicSearch,o=i.pages,s=i.items,t.abrupt("return",{total:10*o,items:s});case 7:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),getLyric:function(t){throw new Error("暂无功能")},getUrl:function(t){throw new Error("暂无功能")},getRecoms:function(){throw new Error("暂无功能")},getHotKey:function(){throw new Error("暂无功能")},getSmartbox:function(t){throw new Error("暂无功能")},getMvUrl:function(t){throw new Error("暂无功能")}};(function(){var t=Object(o["a"])(c.a.mark(function t(e,n){return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:throw new Error("暂无功能");case 1:case"end":return t.stop()}},t,this)}))})(),function(){var t=Object(o["a"])(c.a.mark(function t(){var e,n;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])("https://u.y.qq.com/cgi-bin/musicu.fcg?data={%22comm%22:{%22ct%22:24},%22recomPlaylist%22:{%22method%22:%22get_hot_recommend%22,%22param%22:{%22async%22:1,%22cmd%22:2},%22module%22:%22playlist.HotRecommendServer%22},%22playlist%22:{%22method%22:%22get_playlist_by_category%22,%22param%22:{%22id%22:8,%22curPage%22:1,%22size%22:40,%22order%22:5,%22titleid%22:8},%22module%22:%22playlist.PlayListPlazaServer%22},%22new_album%22:{%22module%22:%22music.web_album_library%22,%22method%22:%22get_album_by_tags%22,%22param%22:{%22area%22:7,%22company%22:-1,%22genre%22:-1,%22type%22:-1,%22year%22:-1,%22sort%22:2,%22get_tags%22:1,%22sin%22:0,%22num%22:40,%22click_albumid%22:0}},%22toplist%22:{%22module%22:%22music.web_toplist_svr%22,%22method%22:%22get_toplist_index%22,%22param%22:{}}}");case 2:return e=t.sent,n=e.recomPlaylist.data.v_hot,t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}))}(),function(){var t=Object(o["a"])(c.a.mark(function t(){var e,n;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])("https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg?","jsonpCallback");case 2:return e=t.sent,n=e.data.hotkey,t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}))}(),function(){var t=Object(o["a"])(c.a.mark(function t(e){var n,r;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])("https://c.y.qq.com/splcloud/fcgi-bin/smartbox_new.fcg?&key=".concat(encodeURIComponent(e)),"jsonpCallback");case 2:return n=t.sent,r=n.data.song.itemlist,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}))}();function m(t){return"wangyiyun"===t?y:d}},aa6a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",[n("div",[n("v-select",{attrs:{items:t.types,placeholder:"来源"},on:{change:t.onTypeChange},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),n("v-text-field",{attrs:{placeholder:"请输入关键字","append-icon":"search"},on:{"click:append":function(e){t.onSearch(!0)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.onSearch(!0)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),n("div",[t._v("\n    搜索结果\n    "),n("v-layout",{attrs:{wrap:""}},t._l(t.contents,function(e,r){return n("v-flex",{key:r,staticClass:"my-1",attrs:{xs12:""}},[n("v-card",{attrs:{flat:""}},[n("v-layout",[n("div",[n("v-img",{attrs:{src:e.cover,width:"200","aspect-ratio":1.3}})],1),n("v-flex",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[t._v(t._s(e.title))]),n("div",{staticClass:"grey--text"},[t._v("歌手："+t._s(e.singer)+" 专辑："+t._s(e.arName))])])]),n("v-card-actions",[n("v-btn",{attrs:{color:"primary"},on:{click:function(n){t.toPlay(e)}}},[n("v-icon",[t._v("play_circle_filled")])],1),e.mv?n("v-btn",{attrs:{color:"blue"},on:{click:function(n){t.toPlayMv(e)}}},[n("v-icon",[t._v("videocam")]),t._v("\n                  MV\n                ")],1):t._e()],1)],1)],1)],1)],1)}),1),n("div",{staticClass:"text-xs-center"},[t.total_page>0?n("v-pagination",{attrs:{length:t.total_page},on:{input:function(e){t.onSearch(!1)}},model:{value:t.offset,callback:function(e){t.offset=e},expression:"offset"}}):t.total<0?n("div",[n("v-btn",{attrs:{disabled:t.offset<=1},on:{click:function(e){t.toPage(t.offset-1)}}},[t._v("上一页")]),n("v-btn",{on:{click:function(e){t.toPage(t.offset+1)}}},[t._v("下一页")])],1):t._e()],1)],1)],1)},a=[],i=n("a34a"),c=n.n(i),o=n("3040"),s=n("c665"),u=n("dc0a"),l=n("aa9a"),p=n("d328"),h=n("11d9"),f=n("9ab4"),v=n("60a3"),y=n("3272"),d=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(p["a"])(this,Object(h["a"])(e).apply(this,arguments)),t.types=[],t.contents=[],t.keyword="",t.type="wangyiyun",t.offset=1,t.limit=20,t.total=0,t}return Object(l["a"])(e,[{key:"beforeRouteUpdate",value:function(){this.syncParams(),this.search()}},{key:"onTypeChange",value:function(){this.keyword&&this.onSearch(!0)}},{key:"syncParams",value:function(){var t=this.$route.query;this.keyword=t.keyword,this.limit=Number(t.limit)||20,this.offset=Number(t.offset)||1,this.type=t.type||"wangyiyun"}},{key:"created",value:function(){this.types=[{value:"wangyiyun",text:"网易云音乐"},{value:"qq",text:"QQ音乐"},{value:"kuwo",text:"酷我"},{value:"netease",text:"网易"},{value:"xiami",text:"虾米"},{value:"kugou",text:"酷狗"},{value:"baidu",text:"百度"},{value:"1ting",text:"一听"},{value:"migu",text:"咪咕"},{value:"lizhi",text:"荔枝"},{value:"qingting",text:"蜻蜓"},{value:"ximalaya",text:"喜马拉雅"},{value:"kg",text:"全民K歌"},{value:"5singyc",text:"5sing原创"},{value:"5singfc",text:"5sing翻唱"}],this.$route.query.keyword&&(this.syncParams(),this.search())}},{key:"onSearch",value:function(t){t&&(this.offset=1),this.$router.push({name:this.$route.name,query:{keyword:this.keyword,offset:String(this.offset),limit:String(this.limit),type:this.type}})}},{key:"search",value:function(){var t=Object(o["a"])(c.a.mark(function t(){var e,n,r;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y["a"])(this.type).search(this.keyword,this.offset-1,this.type);case 3:e=t.sent,n=e.total,r=e.items,this.total=n,this.contents=r,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),this.$toast(t.t0.message);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}()},{key:"toPlay",value:function(t){this.$router.push({name:"music-id",params:{id:t.id},query:{url:t.url,type:this.type}})}},{key:"toPlayMv",value:function(){var t=Object(o["a"])(c.a.mark(function t(e){var n;return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["a"])(this.type).getMvUrl(e.mv);case 2:n=t.sent,this.$router.push({name:"music-mv",query:n});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"toPage",value:function(t){this.offset=t,this.onSearch(!1)}},{key:"total_page",get:function(){return Math.ceil(this.total/this.limit)}}]),Object(u["a"])(e,t),e}(v["d"]);f["a"]([Object(v["e"])("$route")],d.prototype,"beforeRouteUpdate",null),d=f["a"]([Object(v["a"])({})],d);var m=d,w=m,g=(n("2f34"),n("2877")),b=Object(g["a"])(w,r,a,!1,null,null,null);b.options.__file="index.vue";e["default"]=b.exports}}]);