(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["music-id"],{"0285":function(t,e,n){},3272:function(t,e,n){"use strict";n.d(e,"a",function(){return g}),n.d(e,"b",function(){return b});var r=n("6eec"),i=n("9393"),a=n("a34a"),u=n.n(a),o=n("3040"),c=n("bc3a"),s=n.n(c),l=n("4758"),f=n("9530"),p=n.n(f),h=n("53b8");function d(){var t=Object(r["a"])(["query ($kw: String!,$type:String!, $page:Int) {\n        musicSearch(kw:$kw, type:$type,page:$page) {\n          page\n          pages\n          items\n        }\n      }"]);return d=function(){return t},t}var y={search:function(){var t=Object(o["a"])(u.a.mark(function t(e,n){var r,i,a,o;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.imjad.cn/cloudmusic/",{params:{type:"search",s:e,offset:n}});case 2:if(r=t.sent,i=r.data,200===i.code){t.next=6;break}throw new Error("加载失败...");case 6:return a=i.result.songCount,o=i.result.songs.map(function(t){return{singer:t.ar[0].name,cover:t.al.picUrl,title:t.al.name,arName:t.name,id:t.id,mv:t.mv}}),t.abrupt("return",{page:n+1,pages:Math.ceil(a/20),items:o});case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getUrl:function(t){return s.a.get("https://api.imjad.cn/cloudmusic/?type=song&br=128000&id=".concat(t)).then(function(t){var e=Object(i["a"])(t.data.data,1),n=e[0].url;if(!n)throw new Error("抱歉，该歌曲不存在");return n})},getLyric:function(t){return s.a.get("https://api.imjad.cn/cloudmusic/?type=lyric&br=128000&id=".concat(t)).then(function(t){var e=t.data;if(200!==e.code)throw new Error(e);if(e.nolyric||!e.lrc)throw new Error("无歌词");return e.lrc.lyric})},getRecoms:function(){throw new Error("暂无功能")},getHotKey:function(){throw new Error("暂无功能")},getSmartbox:function(t){throw new Error("暂无功能")},getMvUrl:function(t){return s.a.get("https://api.imjad.cn/cloudmusic/?type=mv&br=128000&id=".concat(t)).then(function(t){var e=t.data,n=e.data,r=e.code;if(200!==r)throw new Error("抱歉，没有找到该mv");return{cover:n.cover,url:n.brs[Object.keys(n.brs)[0]]}})}},m={search:function(){var t=Object(o["a"])(u.a.mark(function t(e,n,r){var i,a,o,c,s;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].query({query:p()(d()),variables:{kw:e,page:n,type:r}});case 2:return i=t.sent,a=i.data.musicSearch,o=a.page,c=a.pages,s=a.items,t.abrupt("return",{page:o,pages:c,items:s});case 8:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),getLyric:function(t){throw new Error("暂无功能")},getUrl:function(t){throw new Error("暂无功能")},getRecoms:function(){throw new Error("暂无功能")},getHotKey:function(){throw new Error("暂无功能")},getSmartbox:function(t){throw new Error("暂无功能")},getMvUrl:function(t){throw new Error("暂无功能")}},v=(function(){var t=Object(o["a"])(u.a.mark(function t(e,n){return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:throw new Error("暂无功能");case 1:case"end":return t.stop()}},t,this)}))}(),function(){var t=Object(o["a"])(u.a.mark(function t(){var e,n;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])("https://u.y.qq.com/cgi-bin/musicu.fcg?data={%22comm%22:{%22ct%22:24},%22recomPlaylist%22:{%22method%22:%22get_hot_recommend%22,%22param%22:{%22async%22:1,%22cmd%22:2},%22module%22:%22playlist.HotRecommendServer%22},%22playlist%22:{%22method%22:%22get_playlist_by_category%22,%22param%22:{%22id%22:8,%22curPage%22:1,%22size%22:40,%22order%22:5,%22titleid%22:8},%22module%22:%22playlist.PlayListPlazaServer%22},%22new_album%22:{%22module%22:%22music.web_album_library%22,%22method%22:%22get_album_by_tags%22,%22param%22:{%22area%22:7,%22company%22:-1,%22genre%22:-1,%22type%22:-1,%22year%22:-1,%22sort%22:2,%22get_tags%22:1,%22sin%22:0,%22num%22:40,%22click_albumid%22:0}},%22toplist%22:{%22module%22:%22music.web_toplist_svr%22,%22method%22:%22get_toplist_index%22,%22param%22:{}}}");case 2:return e=t.sent,n=e.recomPlaylist.data.v_hot,t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}))}(),function(){var t=Object(o["a"])(u.a.mark(function t(){var e,n;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])("https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg?","jsonpCallback");case 2:return e=t.sent,n=e.data.hotkey,t.abrupt("return",n);case 5:case"end":return t.stop()}},t,this)}))}(),function(){var t=Object(o["a"])(u.a.mark(function t(e){var n,r;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])("https://c.y.qq.com/splcloud/fcgi-bin/smartbox_new.fcg?&key=".concat(encodeURIComponent(e)),"jsonpCallback");case 2:return n=t.sent,r=n.data.song.itemlist,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}))}(),{search:function(){var t=Object(o["a"])(u.a.mark(function t(e,n){var r,i,a;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.apiopen.top/searchMusic",{params:{name:e}});case 2:return r=t.sent,i=r.data,a=i.result.map(function(t){return Object.assign(t,{artist:t.author,cover:t.pic,type:"",id:t.songid})}),t.abrupt("return",{page:1,pages:1,items:a});case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getUrl:function(t){return s.a.get("https://api.apiopen.top/musicDetails?id=".concat(t)).then(function(t){var e=Object(i["a"])(t.data.result.songList,1),n=e[0].songLink;if(!n)throw new Error("抱歉，该歌曲不存在");return n})},getLyric:function(){var t=Object(o["a"])(u.a.mark(function t(e){var n,r,a;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.apiopen.top/musicDetails?id=".concat(e)).then(function(t){var e=Object(i["a"])(t.data.result.songList,1),n=e[0].lrcLink;return n});case 2:return n=t.sent,t.next=5,s.a.get(n);case 5:return r=t.sent,a=r.data,t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getRecoms:function(){throw new Error("暂无功能")},getHotKey:function(){throw new Error("暂无功能")},getSmartbox:function(t){throw new Error("暂无功能")},getMvUrl:function(t){throw new Error("暂无功能")}}),w={wangyiyun:y,qqjt:v};function g(t){return w[t]||m}function b(t){return _.apply(this,arguments)}function _(){return _=Object(o["a"])(u.a.mark(function t(e){var n,r;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://api.apiopen.top/musicRankings");case 2:return n=t.sent,r=n.data,t.abrupt("return",r.result.map(function(t){return t.content=t.content.map(function(t){return Object.assign(t,{id:t.song_id})}),t}));case 5:case"end":return t.stop()}},t,this)})),_.apply(this,arguments)}},"3c75":function(t,e,n){(function(e,n){t.exports=n()})(0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(11),i=n(16),a=n(18),u=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(8),i=a(r);function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(9),__esModule:!0}},function(t,e,n){n(19);var r=n(2).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(1);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(1),i=n(4).document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(4),i=n(2),a=n(12),u=n(15),o="prototype",c=function(t,e,n){var s,l,f,p=t&c.F,h=t&c.G,d=t&c.S,y=t&c.P,m=t&c.B,v=t&c.W,w=h?i:i[e]||(i[e]={}),g=w[o],b=h?r:d?r[e]:(r[e]||{})[o];for(s in h&&(n=e),n)l=!p&&b&&void 0!==b[s],l&&s in w||(f=l?b[s]:n[s],w[s]=h&&"function"!=typeof b[s]?n[s]:m&&l?a(f,r):v&&b[s]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[o]=t[o],e}(f):y&&"function"==typeof f?a(Function.call,f):f,y&&((w.virtual||(w.virtual={}))[s]=f,t&c.R&&g&&!g[s]&&u(g,s,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(5),i=n(17);t.exports=n(0)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(0)&&!n(3)(function(){return 7!=Object.defineProperty(n(13)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(1);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(14);r(r.S+r.F*!n(0),"Object",{defineProperty:n(5).f})},function(t,e,n){var r,i,a;(function(u,o){i=[t,e,n(6),n(7)],r=o,a="function"===typeof r?r.apply(e,i):r,void 0===a||(t.exports=a)})(0,function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n),a=u(r);function u(t){return t&&t.__esModule?t:{default:t}}var o=/\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g,c=0,s=1,l={title:"ti",artist:"ar",album:"al",offset:"offset",by:"by"};function f(){}var p=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;(0,i.default)(this,t),this.lrc=e,this.tags={},this.lines=[],this.handler=n,this.state=c,this.curLine=0,this._init()}return(0,a.default)(t,[{key:"_init",value:function(){this._initTag(),this._initLines()}},{key:"_initTag",value:function(){for(var t in l){var e=this.lrc.match(new RegExp("\\["+l[t]+":([^\\]]*)]","i"));this.tags[t]=e&&e[1]||""}}},{key:"_initLines",value:function(){for(var t=this.lrc.split("\n"),e=0;e<t.length;e++){var n=t[e],r=o.exec(n);if(r){var i=n.replace(o,"").trim();i&&this.lines.push({time:60*r[1]*1e3+1e3*r[2]+10*(r[3]||0),txt:i})}}this.lines.sort(function(t,e){return t.time-e.time})}},{key:"_findCurNum",value:function(t){for(var e=0;e<this.lines.length;e++)if(t<=this.lines[e].time)return e;return this.lines.length-1}},{key:"_callHandler",value:function(t){t<0||this.handler({txt:this.lines[t].txt,lineNum:t})}},{key:"_playRest",value:function(){var t=this,e=this.lines[this.curNum],n=e.time-(+new Date-this.startStamp);this.timer=setTimeout(function(){t._callHandler(t.curNum++),t.curNum<t.lines.length&&t.state===s&&t._playRest()},n)}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1];this.lines.length&&(this.state=s,this.curNum=this._findCurNum(t),this.startStamp=+new Date-t,e||this._callHandler(this.curNum-1),this.curNum<this.lines.length&&(clearTimeout(this.timer),this._playRest()))}},{key:"togglePlay",value:function(){var t=+new Date;this.state===s?(this.stop(),this.pauseStamp=t):(this.state=s,this.play((this.pauseStamp||t)-(this.startStamp||t),!0),this.pauseStamp=0)}},{key:"stop",value:function(){this.state=c,clearTimeout(this.timer)}},{key:"seek",value:function(t){this.play(t)}}]),t}();e.default=p,t.exports=e["default"]})}])})},5342:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-xs-center"},[n("audio",{ref:"audio",attrs:{src:t.url,controls:"",autoplay:""},on:{timeupdate:t.onUpdate,play:t.onPlay,pause:t.onPause}}),n("div",t._l(t.lyric_lines,function(e,r){return n("div",{key:r,class:r===t.current_line?"primary--text":"",domProps:{innerHTML:t._s(e)}})}),0)])},i=[],a=n("a34a"),u=n.n(a),o=n("3040"),c=n("c665"),s=n("dc0a"),l=n("aa9a"),f=n("d328"),p=n("11d9"),h=n("9ab4"),d=n("60a3"),y=n("3c75"),m=n.n(y),v=n("3272"),w=n("4bb5"),g=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(f["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.url="",t.lyric_lines=[],t.current_line=0,t.error_text="",t}return Object(l["a"])(e,[{key:"created",value:function(){var t=Object(o["a"])(u.a.mark(function t(){var e,n,r,i,a,o=this;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.$route.params.id,n=this.$route.query,r=n.url,i=n.type,r?this.url=r:(a=Object(v["a"])(i),a.getUrl(e).then(function(t){o.url=t,o.$refs.audio.play()},this.$toast),a.getLyric(e).then(function(t){o.lyricer=new m.a(t,o.onLyricUpdate),o.lyric_lines=o.lyricer.lines.map(function(t){var e=t.txt;return e||"&nbsp;"})})),this.setPlaying(!1);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"onUpdate",value:function(){var t=this.$refs.audio;this.lyricer&&this.lyricer.seek(1e3*t.currentTime)}},{key:"onLyricUpdate",value:function(t){t.txt;var e=t.lineNum;this.current_line=e}},{key:"onPlay",value:function(){this.lyricer&&this.lyricer.play()}},{key:"onPause",value:function(){this.lyricer&&this.lyricer.stop()}}]),Object(s["a"])(e,t),e}(d["d"]);h["a"]([w["c"]],g.prototype,"setPlaying",void 0),g=h["a"]([Object(d["a"])({})],g);var b=g,_=b,x=(n("cff9"),n("2877")),j=Object(x["a"])(_,r,i,!1,null,null,null);j.options.__file="_id.vue";e["default"]=j.exports},cff9:function(t,e,n){"use strict";var r=n("0285"),i=n.n(r);i.a}}]);