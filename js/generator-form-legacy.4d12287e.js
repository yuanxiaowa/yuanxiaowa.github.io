(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["generator-form"],{"028b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.exportFile}},[t._t("default")],2)},n=[],o=a("c665"),l=a("dc0a"),r=a("aa9a"),c=a("d328"),s=a("11d9"),u=a("9ab4"),p=a("60a3"),f=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(r["a"])(e,[{key:"exportFile",value:function(){var t=URL.createObjectURL(new Blob([this.value()],{type:this.type})),e=document.createElement("a");e.href=t,e.download=this.filename,e.click(),URL.revokeObjectURL(t)}}]),Object(l["a"])(e,t),e}(p["d"]);u["a"]([Object(p["c"])(Function)],f.prototype,"value",void 0),u["a"]([Object(p["c"])({type:String,default:"application/json"})],f.prototype,"type",void 0),u["a"]([Object(p["c"])(String)],f.prototype,"filename",void 0),f=u["a"]([Object(p["a"])({})],f);var m=f,d=m,v=(a("7bc2"),a("2877")),b=Object(v["a"])(d,i,n,!1,null,null,null);b.options.__file="ExportFile.vue";e["a"]=b.exports},"12d2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"fill-height":"",column:""}},[a("div",{staticClass:"mx-1"},[a("v-layout",[a("import-file",{on:{input:function(e){t.model=e}}},[a("v-btn",{attrs:{small:""}},[t._v("导入")])],1),a("v-btn",{attrs:{small:""},on:{click:t.loadDemo}},[t._v("加载样例")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.updateResult}},[t._v("生成")]),a("export-file",{attrs:{value:t.getResult,type:"text/html",filename:"表单"}},[a("v-btn",{attrs:{small:""}},[t._v("导出")])],1),"html"===t.output_format?a("v-btn",{attrs:{small:""},on:{click:t.preview}},[t._v("\n        预览\n      ")]):t._e(),a("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.show_dialog=!0}}},[a("v-icon",[t._v("settings")])],1)],1)],1),a("v-layout",{staticStyle:{flex:"1"},attrs:{"align-content-center":""}},[a("code-editor",{staticStyle:{width:"50%"},attrs:{lang:"json"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),a("code-editor",{staticStyle:{width:"50%"},attrs:{lang:"react"===t.framework?"jsx":"html"},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}})],1),a("x-dialog",{attrs:{title:"配置"},model:{value:t.show_dialog,callback:function(e){t.show_dialog=e},expression:"show_dialog"}},[a("v-select",{attrs:{label:"框架",items:t.frameworks},model:{value:t.framework,callback:function(e){t.framework=e},expression:"framework"}}),a("v-select",{attrs:{label:"ui",items:t.uis},model:{value:t.ui,callback:function(e){t.ui=e},expression:"ui"}}),a("v-select",{attrs:{label:"生成格式",items:t.output_formats},model:{value:t.output_format,callback:function(e){t.output_format=e},expression:"output_format"}}),"html"===t.output_format?[a("v-textarea",{attrs:{label:"脚本"},model:{value:t.scripts,callback:function(e){t.scripts=e},expression:"scripts"}}),a("v-textarea",{attrs:{label:"样式"},model:{value:t.styles,callback:function(e){t.styles=e},expression:"styles"}})]:t._e()],2)],1)},n=[],o=a("c665"),l=a("dc0a"),r=a("aa9a"),c=a("d328"),s=a("11d9"),u=a("9ab4"),p=a("60a3"),f=a("864f"),m=a("c35a"),d=a("028b"),v=a("9498"),b=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(c["a"])(this,Object(s["a"])(e).apply(this,arguments)),t.model="",t.result="",t.ui="",t.output_format="html",t.framework="vue",t.scripts="",t.styles="",t.frameworks=Object(v["c"])(),t.output_formats=Object(v["d"])(),t.uis=[],t.show_dialog=!1,t}return Object(r["a"])(e,[{key:"loadDemo",value:function(){this.model=JSON.stringify({type:"object",title:"表单",properties:{a:{title:"标题a",type:"number"},b:{title:"特殊资源",type:"string",ui:"radios",enum:["线上品牌","线下品牌"]},table:{title:"表格",type:"array",items:{table_f1:{type:"boolean",title:"表格字段1"},table_f2:{type:"string",title:"表格字段2"}}},c:{type:"object",title:"对象c",properties:{email:{type:"string",title:"邮箱",format:"email"},url:{type:"string",title:"url",format:"url"}},required:["email"]}}})}},{key:"onFrameworkChange",value:function(){var t=this;this.$nextTick(function(){t.uis=t.conf.uis.map(function(t){var e=t.name;return e}),t.uis.includes(t.ui)||(t.scripts=t.conf.scripts.map(function(t){return'<script src="'.concat(t,'"></scrip')+"t>"}).join("\n"),t.styles="",t.ui=t.uis[0])})}},{key:"onModelChange",value:function(){clearTimeout(this.timer),this.timer=setTimeout(this.updateResult,300)}},{key:"updateResult",value:function(){if(this.model)try{var t=JSON.parse(this.model);try{this.result=Object(v["a"])(t,{framework:this.framework,ui:this.ui,output_format:this.output_format,scripts:this.scripts,styles:this.styles})}catch(t){console.error(t)}}catch(t){}}},{key:"getResult",value:function(){return this.result}},{key:"onUiChange",value:function(t){var e=this.conf.uis.find(function(e){var a=e.name;return a===t});e&&(this.scripts+="\n"+e.scripts.map(function(t){return'<script src="'.concat(t,'"></scrip')+"t>"}).join("\n"),this.styles+=e.links.map(function(t){return'<link rel="stylesheet" href="'.concat(t,'">')}).join("\n"))}},{key:"preview",value:function(){var t=window.open("","_blank");t.document.write(this.result),t.document.close()}},{key:"conf",get:function(){return Object(v["b"])(this.framework)}}]),Object(l["a"])(e,t),e}(p["d"]);u["a"]([Object(p["e"])("framework",{immediate:!0})],b.prototype,"onFrameworkChange",null),u["a"]([Object(p["e"])("model")],b.prototype,"onModelChange",null),u["a"]([Object(p["e"])("ui")],b.prototype,"onUiChange",null),b=u["a"]([Object(p["a"])({components:{CodeEditor:f["a"],ImportFile:m["a"],ExportFile:d["a"]}})],b);var h=b,y=h,k=(a("e086"),a("2877")),j=Object(k["a"])(y,i,n,!1,null,null,null);j.options.__file="form.vue";e["default"]=j.exports},"33b3":function(t,e,a){},"7bc2":function(t,e,a){"use strict";var i=a("33b3"),n=a.n(i);n.a},"8f64":function(t,e,a){},"92da":function(t,e,a){"use strict";var i=a("ce0f"),n=a.n(i);n.a},c35a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.onClick}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:t.accept},on:{change:t.onChange}}),t._t("default")],2)},n=[],o=a("c665"),l=a("dc0a"),r=a("aa9a"),c=a("d328"),s=a("11d9"),u=a("9ab4"),p=a("60a3"),f=function(t){function e(){return Object(o["a"])(this,e),Object(c["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(r["a"])(e,[{key:"onChange",value:function(t){var e=this,a=t.target.files,i=new FileReader;i.readAsText(a[0]),i.onload=function(t){e.$emit("input",t.target.result)}}},{key:"onClick",value:function(){this.$refs.file.click()}}]),Object(l["a"])(e,t),e}(p["d"]);u["a"]([Object(p["c"])(String)],f.prototype,"accept",void 0),f=u["a"]([Object(p["a"])({})],f);var m=f,d=m,v=(a("92da"),a("2877")),b=Object(v["a"])(d,i,n,!1,null,null,null);b.options.__file="ImportFile.vue";e["a"]=b.exports},ce0f:function(t,e,a){},e086:function(t,e,a){"use strict";var i=a("8f64"),n=a.n(i);n.a}}]);