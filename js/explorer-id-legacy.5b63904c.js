(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["explorer-id"],{"0857":function(t,e,i){},3401:function(t,e,i){"use strict";var n=i("0857"),a=i.n(n);a.a},"78a6":function(t,e,i){"use strict";var n=i("d037"),a=i.n(n);a.a},"9cc5":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",[i("file-manager",{attrs:{path:t.path},on:{change:t.onPathChange}})],1)},a=[],r=i("c665"),o=i("dc0a"),s=i("aa9a"),c=i("d328"),l=i("11d9"),u=i("9ab4"),d=i("60a3"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-layout",{attrs:{"align-center":""}},[t.editing?[i("v-text-field",{ref:"tf",on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.endEdit(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.editing=!1}]},model:{value:t.editingPath,callback:function(e){t.editingPath=e},expression:"editingPath"}}),i("v-btn",{attrs:{icon:"",small:"",color:"primary--text"},on:{click:t.endEdit}},[i("v-icon",[t._v("check_circle")])],1)]:[i("v-breadcrumbs",{attrs:{divider:t.sep,items:t.breads},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return i("a",{on:{click:function(e){t.change(n.path)}}},[t._v("\n          "+t._s(n.text)+"\n        ")])}}])}),i("v-btn",{attrs:{icon:"",small:"",color:"primary--text"},on:{click:t.startEdit}},[i("v-icon",[t._v("edit")])],1)]],2),i("v-list",[i("v-fade-transition",{attrs:{group:"","leave-absolute":""}},t._l(t.items,function(e){return i("v-list-tile",{key:e.path,attrs:{disabled:e.forbidden},on:{click:function(i){t.onClickItem(e)}}},[i("v-list-tile-avatar",[e.forbidden?i("v-badge",{attrs:{color:"accent--text",left:""}},[i("v-icon",{attrs:{slot:"badge"},slot:"badge"},[t._v("lock")]),i("v-icon",[t._v("file")])],1):i("v-icon",{attrs:{color:"folder"===e.type?"secondary":"primary"}},[t._v("mdi-"+t._s(e.icon))])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(e.name))])],1)],1)}),1)],1),i("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("v-card",{attrs:{color:"primary",dark:""}},[i("v-card-text",[t._v("\n        正在加载资源...\n        "),i("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},p=[],f=i("e53d"),v=i.n(f),g=i("4758"),b=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.files=[],t.editing=!1,t.editingPath="",t}return Object(s["a"])(e,[{key:"change",value:function(t){}},{key:"startEdit",value:function(){var t=this;this.editing=!0,this.editingPath=this.path,this.$nextTick(function(){t.$refs.tf.focus()})}},{key:"endEdit",value:function(){this.editing=!1,this.$emit("change",this.editingPath),this.editingPath=""}},{key:"onClickItem",value:function(t){"folder"===t.type?this.$emit("change",t.path):window.open(Object(g["a"])(t.path))}},{key:"loading",get:function(){return this.$apollo&&this.$apollo.loading}},{key:"apollo",get:function(){return{files:{prefetch:!0,query:v.a,variables:function(){return{path:this.path}}}}}},{key:"items",get:function(){var t={html:"html5",pdf:"file-pdf",doc:"file-word",docx:"file-word"};return this.files.map(function(e){var i;if("folder"===e.type)i="folder";else{var n=e.name,a=n.substring(n.lastIndexOf(".")+1).toLowerCase();i=/^(png|jpe?g|ico|webp|bmp|svg)$/.test(a)?"image":/^(mp3|wmv)$/.test(a)?"file-audio":/^(mp4|wav|ogg)$/.test(a)?"video":t[a]||"file"}return Object.assign({icon:i},e)})}},{key:"breads",get:function(){var t=this,e=this.path.split(this.sep),i=[];return e.reduce(function(e,n){var a=e+t.sep+n;return i.push({path:a,text:n}),a}),this.path.startsWith("/")||this.path.startsWith("\\")?i.unshift({path:"/",text:"root"}):i.unshift({path:e[0],text:e[0]}),i}},{key:"sep",get:function(){return this.path.includes("/")?"/":"\\"}}]),Object(o["a"])(e,t),e}(d["d"]);u["a"]([Object(d["c"])(String)],b.prototype,"path",void 0),u["a"]([Object(d["b"])()],b.prototype,"change",null),b=u["a"]([Object(d["a"])({})],b);var m=b,k=m,y=(i("3401"),i("2877")),_=Object(y["a"])(k,h,p,!1,null,null,null);_.options.__file="FileManager.vue";var j=_.exports,O=function(t){function e(){return Object(r["a"])(this,e),Object(c["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(s["a"])(e,[{key:"onPathChange",value:function(t){this.$router.push({params:{id:t}})}},{key:"path",get:function(){return this.$route.params.id}}]),Object(o["a"])(e,t),e}(d["d"]);O=u["a"]([Object(d["a"])({components:{FileManager:j}})],O);var x=O,w=x,$=(i("78a6"),Object(y["a"])(w,n,a,!1,null,null,null));$.options.__file="_id.vue";e["default"]=$.exports},d037:function(t,e,i){}}]);