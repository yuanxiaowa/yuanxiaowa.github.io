(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video-player"],{"55f4":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"con",staticClass:"video-wrap"},[e.direct?n("iframe",{attrs:{width:"100%",height:e.height,src:e.url,frameborder:"0",allowfullscreen:""}}):!e.loading&&e.info&&e.info.url?[e.error_text?n("div",{staticClass:"text-xs-center"},[e._v("\n      出错了\n      "),n("v-btn",{attrs:{color:"red--text"},on:{click:e.reload}},[e._v("重试")])],1):n("video-player",{attrs:{src:e.info.url},on:{error:e.onError}})]:e._e(),n("div",{staticClass:"ma-2"},[e.direct?n("v-select",{attrs:{items:e.items,dense:""},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}}):e._e(),e.loading?n("div",[n("v-progress-circular",{attrs:{color:"primary",indeterminate:""}}),e._v("\n      正在获取数据...\n    ")],1):e.info?n("div",[n("v-layout",[n("h3",[e._v(e._s(e.info.title))]),n("v-spacer"),e.play_url?n("a",{attrs:{href:e.play_url,target:"_blank"}},[e._v("到源网站播放")]):e._e()],1),n("div",{staticClass:"gray--text",domProps:{innerHTML:e._s(e.info.desc)}}),e.info.series?n("div",{staticClass:"mt-2"},[n("b",[e._v(e._s(e.info.series.title)+"剧集列表：")]),e.info.series.more?n("v-tabs",{attrs:{dark:"","slider-color":"yellow"},on:{change:function(t){return e.loadMore(e.info.series.items[t])}}},[e._l(e.info.series.items,function(t){return n("v-tab",{key:t.id,attrs:{ripple:""}},[e._v("\n            "+e._s(t.title)+"\n          ")])}),e._l(e.info.series.items,function(t,r){return n("v-tab-item",{key:t.id},[t.more?n("v-expansion-panel",{on:{input:function(n){return e.loadMore(t.items[n])}}},e._l(t.items,function(t,i){return n("v-expansion-panel-content",{key:t.id,scopedSlots:e._u([{key:"header",fn:function(){return[n("div",[e._v(e._s(t.title))])]},proxy:!0}],null,!0)},[t.items?n("v-list",e._l(t.items,function(t,o){return n("v-list-tile",{key:o,on:{click:function(n){return e.play(t,[r,i,o])}}},[n("v-list-tile-content",[e._v(e._s(t.title))])],1)}),1):n("v-progress-circular",{staticClass:"ma-3",attrs:{indeterminate:"",color:"primary"}})],1)}),1):[t.items?n("v-list",e._l(t.items,function(t,i){return n("v-list-tile",{key:i,on:{click:function(n){return e.play(t,[r,i])}}},[n("v-list-tile-content",[e._v(e._s(t.title))])],1)}),1):n("v-progress-circular",{staticClass:"ma-3",attrs:{indeterminate:"",color:"primary"}})]],2)})],2):n("div",e._l(e.info.series.items,function(t,r){return n("v-btn",{key:r,attrs:{color:t.url===e.play_url?"primary--text":void 0,to:{query:{url:t.url,direct:String(e.direct)}}}},[e._v(e._s(t.title))])}),1)],1):e._e()],1):e._e()],1)],2)},i=[],o=n("4795"),a=n.n(o),s=n("9ab4"),u=n("60a3"),l=n("cdf7"),c=n("5912"),f=n("4bb5");function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){v(o,r,i,a,s,"next",e)}function s(e){v(o,r,i,a,s,"throw",e)}a(void 0)})}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function b(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}var w=Object(f["e"])("music"),O=function(e){function t(){var e;return y(this,t),e=b(this,k(t).apply(this,arguments)),e.items=[],e.source="http://jqaaa.com/jx.php",e.info=null,e.loading=!1,e.error_text="",e.play_url="",e.direct=!0,e.tindex=0,e.height="300px",e}return g(t,e),h(t,[{key:"created",value:function(){var e=p(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$route.query.type){e.next=6;break}return e.next=3,this.$apollo.query({query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"videoResolvers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"text"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"value"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],loc:{start:0,end:138,source:{body:"\n          query {\n            videoResolvers {\n              id\n              text\n              value\n            }\n          }\n        ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}});case 3:t=e.sent,n=t.data.videoResolvers,this.items=n;case 6:this.setPlaying(!1);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeRouteUpdate",value:function(){var e=this;if(this.direct="true"===String(this.$route.query.direct),this.$route.query.video_only)this.info={url:this.$route.query.url};else{var t=this.$route.query.arg;this.info&&t||(this.loading=!0,this.play_url=this.$route.query.url,Object(l["c"])(this.play_url).info({url:this.play_url,arg:t}).then(function(t){console.log(JSON.parse(JSON.stringify(t))),e.info=t,t.nodirect&&(e.play_url=t.url),e.error_text=""}).finally(function(){e.loading=!1}))}}},{key:"mounted",value:function(){this.height=3*this.$refs.con.offsetWidth/4+"px"}},{key:"onError",value:function(e){}},{key:"reload",value:function(){location.reload()}},{key:"loadMore",value:function(){var e=p(a.a.mark(function e(t){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.items){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(l["c"])(this.play_url).getDir(t.id);case 4:t.items=e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"play",value:function(e,t){this.info.url=e.url,this.info.title=e.title,this.$router.push({query:Object.assign({},this.$route.query,{arg:t.join("-")})})}},{key:"tabChange",value:function(e){console.log(e)}},{key:"url",get:function(){return"".concat(this.source,"?url=").concat(encodeURIComponent(this.play_url))}}]),t}(u["d"]);s["b"]([w.Mutation],O.prototype,"setPlaying",void 0),s["b"]([Object(u["e"])("$route",{immediate:!0})],O.prototype,"beforeRouteUpdate",null),O=s["b"]([Object(u["a"])({components:{VideoPlayer:c["a"]}})],O);var S=O,j=S,q=(n("a97b"),n("2877")),$=n("724d"),P=n.n($),C=Object(q["a"])(j,r,i,!1,null,null,null);"function"===typeof P.a&&P()(C);t["default"]=C.exports},"724d":function(e,t){},9035:function(e,t,n){},a97b:function(e,t,n){"use strict";var r=n("9035"),i=n.n(r);i.a}}]);