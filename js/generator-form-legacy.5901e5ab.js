(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["generator-form"],{"028b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.exportFile}},[t._t("default")],2)},i=[],o=a("c665"),s=a("dc0a"),l=a("aa9a"),r=a("d328"),c=a("11d9"),u=a("9ab4"),f=a("60a3"),p=function(t){function e(){return Object(o["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(l["a"])(e,[{key:"exportFile",value:function(){var t=URL.createObjectURL(new Blob([this.value()],{type:this.type})),e=document.createElement("a");e.href=t,e.download=this.filename,e.click(),URL.revokeObjectURL(t)}}]),Object(s["a"])(e,t),e}(f["d"]);u["a"]([Object(f["c"])(Function)],p.prototype,"value",void 0),u["a"]([Object(f["c"])({type:String,default:"application/json"})],p.prototype,"type",void 0),u["a"]([Object(f["c"])(String)],p.prototype,"filename",void 0),p=u["a"]([Object(f["a"])({})],p);var m=p,v=m,d=(a("7bc2"),a("2877")),h=Object(d["a"])(v,n,i,!1,null,null,null);h.options.__file="ExportFile.vue";e["a"]=h.exports},"12d2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("column-layout",{attrs:{width:"50%"}},[a("div",{staticClass:"mx-1",attrs:{slot:"top"},slot:"top"},[a("v-layout",[a("import-file",{on:{input:function(e){t.model=e}}},[a("v-btn",{attrs:{small:""}},[t._v("导入")])],1),a("v-btn",{attrs:{small:""},on:{click:t.loadDemo}},[t._v("加载样例")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:""},on:{click:t.updateResult}},[t._v("生成")]),a("export-file",{attrs:{value:t.getResult,type:"text/html",filename:"表单"}},[a("v-btn",{attrs:{small:""}},[t._v("导出")])],1),"html"===t.output_format?a("v-btn",{attrs:{small:""},on:{click:t.preview}},[t._v("\n        预览\n      ")]):t._e(),a("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.show_dialog=!0}}},[a("v-icon",[t._v("settings")])],1)],1)],1),a("code-editor",{staticClass:"fill-height",attrs:{slot:"left",lang:"json"},slot:"left",model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),a("code-editor",{staticClass:"fill-height",attrs:{lang:"react"===t.framework?"jsx":"html"},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}}),a("x-dialog",{attrs:{title:"配置"},model:{value:t.show_dialog,callback:function(e){t.show_dialog=e},expression:"show_dialog"}},[a("v-select",{attrs:{label:"框架",items:t.frameworks},model:{value:t.framework,callback:function(e){t.framework=e},expression:"framework"}}),a("v-select",{attrs:{label:"ui",items:t.uis},model:{value:t.ui,callback:function(e){t.ui=e},expression:"ui"}}),a("v-select",{attrs:{label:"生成格式",items:t.output_formats},model:{value:t.output_format,callback:function(e){t.output_format=e},expression:"output_format"}}),"html"===t.output_format?[a("v-textarea",{attrs:{label:"脚本"},model:{value:t.scripts,callback:function(e){t.scripts=e},expression:"scripts"}}),a("v-textarea",{attrs:{label:"样式"},model:{value:t.styles,callback:function(e){t.styles=e},expression:"styles"}})]:t._e()],2)],1)},i=[],o=a("c665"),s=a("dc0a"),l=a("aa9a"),r=a("d328"),c=a("11d9"),u=a("9ab4"),f=a("60a3"),p=a("864f"),m=a("c35a"),v=a("028b"),d=a("b88f"),h=a("9498"),b=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.model="",t.result="",t.ui="",t.output_format="html",t.framework="vue",t.scripts="",t.styles="",t.frameworks=Object(h["c"])(),t.output_formats=Object(h["d"])(),t.uis=[],t.show_dialog=!1,t}return Object(l["a"])(e,[{key:"loadDemo",value:function(){this.model=JSON.stringify({type:"object",title:"表单",properties:{a:{title:"标题a",type:"number"},b:{title:"特殊资源",type:"string",ui:"radios",enum:["线上品牌","线下品牌"]},table:{title:"表格",type:"array",items:{table_f1:{type:"boolean",title:"表格字段1"},table_f2:{type:"string",title:"表格字段2"}}},c:{type:"object",title:"对象c",properties:{email:{type:"string",title:"邮箱",format:"email"},url:{type:"string",title:"url",format:"url"}},required:["email"]}}},null,2)}},{key:"onFrameworkChange",value:function(){var t=this;this.$nextTick(function(){t.uis=t.conf.uis.map(function(t){var e=t.name;return e}),t.uis.includes(t.ui)||(t.scripts=t.conf.scripts.map(function(t){return'<script src="'.concat(t,'"></scrip')+"t>"}).join("\n"),t.styles="",t.ui=t.uis[0])})}},{key:"onModelChange",value:function(){clearTimeout(this.timer),this.timer=setTimeout(this.updateResult,300)}},{key:"updateResult",value:function(){if(this.model)try{var t=JSON.parse(this.model);try{this.result=Object(h["a"])(t,{framework:this.framework,ui:this.ui,output_format:this.output_format,scripts:this.scripts,styles:this.styles})}catch(t){console.error(t)}}catch(t){}}},{key:"getResult",value:function(){return this.result}},{key:"onUiChange",value:function(t){var e=this.conf.uis.find(function(e){var a=e.name;return a===t});e&&(this.scripts+="\n"+e.scripts.map(function(t){return'<script src="'.concat(t,'"></scrip')+"t>"}).join("\n"),this.styles+=e.links.map(function(t){return'<link rel="stylesheet" href="'.concat(t,'">')}).join("\n"))}},{key:"preview",value:function(){var t=window.open("","_blank");t.document.write(this.result),t.document.close()}},{key:"conf",get:function(){return Object(h["b"])(this.framework)}}]),Object(s["a"])(e,t),e}(f["d"]);u["a"]([Object(f["e"])("framework",{immediate:!0})],b.prototype,"onFrameworkChange",null),u["a"]([Object(f["e"])("model")],b.prototype,"onModelChange",null),u["a"]([Object(f["e"])("ui")],b.prototype,"onUiChange",null),b=u["a"]([Object(f["a"])({components:{CodeEditor:p["a"],ImportFile:m["a"],ExportFile:v["a"],ColumnLayout:d["a"]}})],b);var y=b,k=y,j=(a("e086"),a("2877")),w=Object(j["a"])(k,n,i,!1,null,null,null);w.options.__file="form.vue";e["default"]=w.exports},"33b3":function(t,e,a){},4516:function(t,e,a){"use strict";var n=a("782e"),i=a.n(n);i.a},"782e":function(t,e,a){},"7bc2":function(t,e,a){"use strict";var n=a("33b3"),i=a.n(n);i.a},"8f64":function(t,e,a){},"92da":function(t,e,a){"use strict";var n=a("ce0f"),i=a.n(n);i.a},b88f:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"fill-height":"",column:""}},[a("div",[t._t("top")],2),a("v-layout",[a("div",{ref:"left",style:{flex:"0 0 "+t._w}},[t._t("left")],2),a("div",{staticClass:"vline",on:{mousedown:t.onMousedown}}),a("v-flex",[t._t("default")],2)],1)],1)},i=[],o=a("c665"),s=a("dc0a"),l=a("aa9a"),r=a("d328"),c=a("11d9"),u=a("9ab4"),f=a("60a3"),p=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.startX=0,t.startW=0,t.flag=!1,t.w=0,t}return Object(l["a"])(e,[{key:"created",value:function(){this.w=this.width}},{key:"mounted",value:function(){this.w=this.$refs.left.offsetWidth}},{key:"onMousedown",value:function(t){var e=this;this.startX=t.clientX,this.startW=this.w;var a=function t(){document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",e.onMousemove)};document.addEventListener("mouseup",a),document.addEventListener("mousemove",this.onMousemove)}},{key:"onMousemove",value:function(t){this.w=this.startW+t.clientX-this.startX,console.log(this.w),this.$emit("change")}},{key:"_w",get:function(){return"number"===typeof this.w?this.w+"px":this.w}}]),Object(s["a"])(e,t),e}(f["d"]);u["a"]([Object(f["c"])(String)],p.prototype,"width",void 0),p=u["a"]([Object(f["a"])({})],p);var m=p,v=m,d=(a("4516"),a("2877")),h=Object(d["a"])(v,n,i,!1,null,null,null);h.options.__file="ColumnLayout.vue";e["a"]=h.exports},c35a:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:t.onClick}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:t.accept},on:{change:t.onChange}}),t._t("default")],2)},i=[],o=a("c665"),s=a("dc0a"),l=a("aa9a"),r=a("d328"),c=a("11d9"),u=a("9ab4"),f=a("60a3"),p=function(t){function e(){return Object(o["a"])(this,e),Object(r["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(l["a"])(e,[{key:"onChange",value:function(t){var e=this,a=t.target.files,n=new FileReader;n.readAsText(a[0]),n.onload=function(t){e.$emit("input",t.target.result)}}},{key:"onClick",value:function(){this.$refs.file.click()}}]),Object(s["a"])(e,t),e}(f["d"]);u["a"]([Object(f["c"])(String)],p.prototype,"accept",void 0),p=u["a"]([Object(f["a"])({})],p);var m=p,v=m,d=(a("92da"),a("2877")),h=Object(d["a"])(v,n,i,!1,null,null,null);h.options.__file="ImportFile.vue";e["a"]=h.exports},ce0f:function(t,e,a){},e086:function(t,e,a){"use strict";var n=a("8f64"),i=a.n(n);i.a}}]);