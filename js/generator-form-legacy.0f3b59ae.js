(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["generator-form"],{"028b":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.exportFile}},[t._t("default")],2)},r=[],i=n("9ab4"),u=n("60a3");function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var h=function(t){function e(){return l(this,e),f(this,y(e).apply(this,arguments))}return b(e,t),s(e,[{key:"exportFile",value:function(){var t=URL.createObjectURL(new Blob([this.value()],{type:this.type})),e=document.createElement("a");e.href=t,e.download=this.filename,e.click(),URL.revokeObjectURL(t)}}]),e}(u["d"]);i["b"]([Object(u["c"])(Function)],h.prototype,"value",void 0),i["b"]([Object(u["c"])({type:String,default:"application/json"})],h.prototype,"type",void 0),i["b"]([Object(u["c"])(String)],h.prototype,"filename",void 0),h=i["b"]([Object(u["a"])({})],h);var v=h,d=v,w=n("2877"),_=Object(w["a"])(d,o,r,!1,null,null,null);e["a"]=_.exports},"12d2":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("column-layout",{attrs:{width:"50%"}},[n("div",{staticClass:"mx-1",attrs:{slot:"top"},slot:"top"},[n("v-layout",[n("import-file",{on:{input:function(e){t.model=e}}},[n("v-btn",{attrs:{small:""}},[t._v("导入")])],1),n("v-btn",{attrs:{small:""},on:{click:t.loadDemo}},[t._v("加载样例")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary",small:""},on:{click:t.updateResult}},[t._v("生成")]),n("export-file",{attrs:{value:t.getResult,type:"text/html",filename:"表单"}},[n("v-btn",{attrs:{small:""}},[t._v("导出")])],1),"html"===t.output_format?n("v-btn",{attrs:{small:""},on:{click:t.preview}},[t._v("\n        预览\n      ")]):t._e(),n("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.show_dialog=!0}}},[n("v-icon",[t._v("settings")])],1)],1)],1),n("code-editor",{staticClass:"fill-height",attrs:{slot:"left",lang:"json"},slot:"left",model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),n("code-editor",{staticClass:"fill-height",attrs:{lang:"react"===t.framework?"jsx":"html"},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}}),n("x-dialog",{attrs:{title:"配置"},model:{value:t.show_dialog,callback:function(e){t.show_dialog=e},expression:"show_dialog"}},[n("v-select",{attrs:{label:"框架",items:t.frameworks},model:{value:t.framework,callback:function(e){t.framework=e},expression:"framework"}}),n("v-select",{attrs:{label:"ui",items:t.uis},model:{value:t.ui,callback:function(e){t.ui=e},expression:"ui"}}),n("v-select",{attrs:{label:"生成格式",items:t.output_formats},model:{value:t.output_format,callback:function(e){t.output_format=e},expression:"output_format"}}),"html"===t.output_format?[n("v-textarea",{attrs:{label:"脚本"},model:{value:t.scripts,callback:function(e){t.scripts=e},expression:"scripts"}}),n("v-textarea",{attrs:{label:"样式"},model:{value:t.styles,callback:function(e){t.styles=e},expression:"styles"}})]:t._e()],2)],1)},r=[],i=n("9ab4"),u=n("60a3"),a=n("864f"),l=n("c35a"),c=n("028b"),s=n("b88f"),f=n("9498");function p(t){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function h(t,e){return!e||"object"!==p(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}var g=function(t){function e(){var t;return y(this,e),t=h(this,d(e).apply(this,arguments)),t.model="",t.result="",t.ui="",t.output_format="html",t.framework="vue",t.scripts="",t.styles="",t.frameworks=Object(f["c"])(),t.output_formats=Object(f["d"])(),t.uis=[],t.show_dialog=!1,t}return w(e,t),m(e,[{key:"loadDemo",value:function(){this.model=JSON.stringify({type:"object",title:"个人信息",properties:{username:{title:"用户名",type:"string",messages:{required:"请输入用户名"}},password:{title:"密码",type:"string",attrs:{type:"password"}},gendar:{title:"性别",type:"string",default:"男",ui:"radios",enum:["男","女"]},birthday:{title:"生日",type:"string",format:"date"},personality:{title:"个性签名",type:"string"},experiences:{title:"工作经历",type:"array",items:{type:"object",properties:{company:{type:"string",title:"工作单位"},date:{title:"工作时间",type:"string",format:"daterange"},director:{title:"直接上属",type:"string"}}}},other:{type:"object",title:"其他",properties:{email:{type:"string",title:"邮箱",format:"email"},url:{type:"string",title:"个人网站",format:"url"}},required:["email"]}},required:["username","password","gendar"]},null,2)}},{key:"onFrameworkChange",value:function(){var t=this;this.$nextTick(function(){t.uis=t.conf.uis.map(function(t){var e=t.name;return e}),t.uis.includes(t.ui)||(t.scripts=t.conf.scripts.map(function(t){return'<script src="'.concat(t,'"></scrip')+"t>"}).join("\n"),t.styles="",t.ui=t.uis[0])})}},{key:"onModelChange",value:function(){clearTimeout(this.timer),this.timer=setTimeout(this.updateResult,300)}},{key:"updateResult",value:function(){if(this.model)try{var t=JSON.parse(this.model);try{this.result=Object(f["a"])(t,{framework:this.framework,ui:this.ui,output_format:this.output_format,scripts:this.scripts,styles:this.styles})}catch(e){console.error(e)}}catch(e){}}},{key:"getResult",value:function(){return this.result}},{key:"onUiChange",value:function(t){var e=this.conf.uis.find(function(e){var n=e.name;return n===t});e&&(this.scripts+="\n"+e.scripts.map(function(t){return'<script src="'.concat(t,'"></scrip')+"t>"}).join("\n"),this.styles+=e.links.map(function(t){return'<link rel="stylesheet" href="'.concat(t,'">')}).join("\n"))}},{key:"preview",value:function(){var t=window.open("","_blank");t.document.write(this.result),t.document.close()}},{key:"conf",get:function(){return Object(f["b"])(this.framework)}}]),e}(u["d"]);i["b"]([Object(u["e"])("framework",{immediate:!0})],g.prototype,"onFrameworkChange",null),i["b"]([Object(u["e"])("model")],g.prototype,"onModelChange",null),i["b"]([Object(u["e"])("ui")],g.prototype,"onUiChange",null),g=i["b"]([Object(u["a"])({components:{CodeEditor:a["a"],ImportFile:l["a"],ExportFile:c["a"],ColumnLayout:s["a"]}})],g);var O=g,j=O,k=n("2877"),x=n("3afd"),S=n.n(x),E=Object(k["a"])(j,o,r,!1,null,null,null);"function"===typeof S.a&&S()(E);e["default"]=E.exports},"3afd":function(t,e){},4516:function(t,e,n){"use strict";var o=n("ab04"),r=n.n(o);r.a},ab04:function(t,e,n){},b88f:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"fill-height":"",column:""}},[n("div",[t._t("top")],2),n("v-layout",[n("div",{ref:"left",style:{flex:"0 0 "+t._w}},[t._t("left")],2),n("div",{staticClass:"vline",on:{mousedown:t.onMousedown}}),n("v-flex",[t._t("default")],2)],1)],1)},r=[],i=n("9ab4"),u=n("60a3");function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var h=function(t){function e(){var t;return l(this,e),t=f(this,y(e).apply(this,arguments)),t.startX=0,t.startW=0,t.flag=!1,t.w=0,t}return b(e,t),s(e,[{key:"created",value:function(){this.w=this.width}},{key:"mounted",value:function(){this.w=this.$refs.left.offsetWidth}},{key:"onMousedown",value:function(t){var e=this;this.startX=t.clientX,this.startW=this.w;var n=function t(){document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",e.onMousemove)};document.addEventListener("mouseup",n),document.addEventListener("mousemove",this.onMousemove)}},{key:"onMousemove",value:function(t){this.w=this.startW+t.clientX-this.startX,console.log(this.w),this.$emit("change")}},{key:"_w",get:function(){return"number"===typeof this.w?this.w+"px":this.w}}]),e}(u["d"]);i["b"]([Object(u["c"])(String)],h.prototype,"width",void 0),h=i["b"]([Object(u["a"])({})],h);var v=h,d=v,w=(n("4516"),n("2877")),_=Object(w["a"])(d,o,r,!1,null,null,null);e["a"]=_.exports},c35a:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.onClick}},[n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:t.accept},on:{change:t.onChange}}),t._t("default")],2)},r=[],i=n("9ab4"),u=n("60a3");function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var h=function(t){function e(){return l(this,e),f(this,y(e).apply(this,arguments))}return b(e,t),s(e,[{key:"onChange",value:function(t){var e=this,n=t.target.files,o=new FileReader;o.readAsText(n[0]),o.onload=function(t){e.$emit("input",t.target.result)}}},{key:"onClick",value:function(){this.$refs.file.click()}}]),e}(u["d"]);i["b"]([Object(u["c"])(String)],h.prototype,"accept",void 0),h=i["b"]([Object(u["a"])({})],h);var v=h,d=v,w=n("2877"),_=Object(w["a"])(d,o,r,!1,null,null,null);e["a"]=_.exports}}]);