(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["svn-id"],{"7d34":function(t,e){},"9db4":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{staticClass:"pa-3"},[n("v-flex",[t._v("\n      "+t._s(t.path)+"\n    ")]),n("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(e){return t.showLog(t.path,!1)}}},[t._v("查看日志")])],1),n("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",{attrs:{href:"#tab-1"}},[t._v("本地")]),n("v-tab",{attrs:{href:"#tab-2"}},[t._v("合并")])],1),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{attrs:{value:"tab-1"}},[n("svn-local",{ref:"sl",attrs:{path:t.path},on:{"show-log":t.showLog,message:t.onMessage}})],1),n("v-tab-item",{attrs:{value:"tab-2"}},[n("keep-alive",["tab-2"===t.tab?n("svn-merge",{attrs:{path:t.path,url:t.url},on:{message:t.onMessage,merged:t.onMerged}}):t._e()],1)],1)],1),n("v-expansion-panel",{staticClass:"mt-3"},[n("v-expansion-panel-content",[n("div",{attrs:{slot:"header"},slot:"header"},[t._v("日志")]),n("v-card",{attrs:{dark:""}},[t.logs.length>0?n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:"",icon:"",color:"red"},on:{click:t.clearLogs}},[n("v-icon",[t._v("cancel")])],1)],1):t._e(),0===t.logs.length?n("v-card-title",[t._v("暂无记录")]):t._e(),t._l(t.logs,function(e,r){return n("v-card-text",{key:r},[n("v-layout",[n("v-flex",t._l(e.items,function(e,r){return n("div",{key:r},[t._v("\n                "+t._s(e)+"\n              ")])}),0),n("div",[t._v("\n              "+t._s(t._f("date")(e.date))+"\n            ")])],1),n("v-divider")],1)})],2)],1)],1),n("my-dialog",{attrs:{"max-width":"800px",title:"修改记录"},model:{value:t.show_log,callback:function(e){t.show_log=e},expression:"show_log"}},[n("div",[t._v("文件路径："+t._s(t.log_path))]),n("svn-log",{attrs:{path:t.log_path,"remote-base":t.log_remote_base}})],1)],1)},o=[],i=n("4795"),a=n.n(i),s=n("9ab4"),c=n("60a3"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",[n("v-card-actions",[n("v-spacer"),n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.update},slot:"activator"},[n("v-icon",[t._v("arrow_downward")])],1),n("span",[t._v("更新")])],1),n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.refresh},slot:"activator"},[n("v-icon",[t._v("refresh")])],1),n("span",[t._v("刷新")])],1)],1),n("v-card-text",[n("v-data-table",{attrs:{headers:t.headers,items:t.items,"select-all":"primary",loading:t.loading,"item-key":"path",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[n("v-checkbox",{attrs:{primary:"","hide-details":"",color:"primary"},model:{value:e.selected,callback:function(n){t.$set(e,"selected",n)},expression:"props.selected"}})],1),n("td",["added"!==e.item.type&&"unversioned"!==e.item.type?n("a",{attrs:{color:"primary"},on:{click:function(n){return t.$emit("show-log",e.item.path)}}},[t._v("\n              "+t._s(e.item.path)+"\n            ")]):n("div",[t._v(t._s(e.item.path))])]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.type))]),n("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.revision))]),n("td",[e.item.commit?n("div",[t._v("\n              提交者："+t._s(e.item.commit.author)+" "),n("br"),t._v(" 时间："+t._s(t._f("date")(e.item.commit.date))+"\n              "),n("br"),t._v(" 版本："+t._s(e.item.commit.revision)+"\n            ")]):t._e()]),n("td",{staticClass:"text-xs-right"},[n("v-icon",{attrs:{disabled:!("unversioned"!==e.item.type&&!e.item.hasConflict),color:"green"},on:{click:function(n){return t.commit([e.item.path])}}},[t._v("arrow_upward")]),n("v-icon",{attrs:{disabled:"unversioned"!==e.item.type,color:"green"},on:{click:function(n){return t.add([e.item.path])}}},[t._v("add")]),n("v-icon",{attrs:{disabled:!e.item.hasConflict,color:"warn"},on:{click:function(n){return t.resolve([e.item.path])}}},[t._v("check")]),n("v-icon",{attrs:{disabled:"added"===e.item.type||"unversioned"===e.item.type,color:"red"},on:{click:function(n){return t.del([e.item.path])}}},[t._v("delete")])],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[n("v-layout",{attrs:{slot:"actions-prepend","align-center":""},slot:"actions-prepend"},[n("v-text-field",{attrs:{placeholder:"注释"},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}}),t.has_new?n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:"",flat:"",small:"",color:"green"},on:{click:t.addSelected},slot:"activator"},[n("v-icon",[t._v("add")])],1),n("span",[t._v("添加选中")])],1):t._e(),n("v-tooltip",{attrs:{top:""}},[n("v-btn",{attrs:{slot:"activator",icon:"",flat:"",small:"",color:"green"},on:{click:t.commitSelected},slot:"activator"},[n("v-icon",[t._v("arrow_upward")])],1),n("span",[t._v("提交选中")])],1)],1)],1)],1)],1)],1)},l=[],p=n("9530"),f=n.n(p);function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(){var t=_(["query($path:String!) {\n        svnStatus(cwd: $path) {\n          path\n          type\n          revision\n          hasConflict\n          commit {\n            author\n            date\n            revision\n          }\n        }\n      }"]);return v=function(){return t},t}function d(){var t=_(["mutation($paths:[String]!, $cwd:String){\n        svnDel(paths:$paths, cwd:$cwd)\n      }"]);return d=function(){return t},t}function m(){var t=_(["mutation($paths:[String]!, $cwd:String){\n        svnResolve(paths:$paths, cwd:$cwd)\n      }"]);return m=function(){return t},t}function y(){var t=_(["mutation($paths:[String]!, $cwd:String){\n        svnRevert(paths:$paths, cwd:$cwd)\n      }"]);return y=function(){return t},t}function b(){var t=_(["mutation($paths:[String]!, $cwd:String, $msg:String!){\n        svnCommit(paths:$paths, cwd:$cwd, msg:$msg)\n      }"]);return b=function(){return t},t}function g(){var t=_(["mutation($paths:[String]!, $cwd:String){\n        svnAdd(paths:$paths, cwd:$cwd)\n      }"]);return g=function(){return t},t}function w(){var t=_(["mutation($paths:[String]!, $cwd:String){\n        svnUpdate(paths:$paths, cwd:$cwd)\n      }"]);return w=function(){return t},t}function _(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function k(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function O(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){k(i,r,o,a,s,"next",t)}function s(t){k(i,r,o,a,s,"throw",t)}a(void 0)})}}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}function j(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?P(t):e}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function q(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}var E=function(t){function e(){var t;return x(this,e),t=j(this,I(e).apply(this,arguments)),t.selected=[],t.pagination={rowsPerPage:10},t.headers=[{text:"路径",value:"path",align:"left"},{text:"状态",value:"type",align:"center"},{text:"版本",value:"revision",align:"center"},{text:"上次提交",value:"path",align:"left"},{text:"操作",value:"path",align:"right"}],t.items=[],t.loading=!1,t.msg="",t}return q(e,t),$(e,[{key:"created",value:function(){this.fetchData()}},{key:"commitSelected",value:function(){if(!this.selected.length)return this.$toast("请选择提交项");if(!this.msg)return this.$toast("请输入注释");var t=this.selected.map(function(t){return t.path});this.commit(t)}},{key:"addSelected",value:function(){}},{key:"handle",value:function(){var t=O(a.a.mark(function t(e,n){var r,o;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apollo.mutate({mutation:n,variables:{paths:e,cwd:this.path,msg:this.msg}});case 2:r=t.sent,o=r.data,this.$emit("message",o[Object.keys(o)[0]]),this.refresh();case 6:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"update",value:function(){return this.handle([],f()(w()))}},{key:"add",value:function(t){return this.handle(t,f()(g()))}},{key:"commit",value:function(t){return this.handle(t,f()(b()))}},{key:"revert",value:function(t){return this.handle(t,f()(y()))}},{key:"resolve",value:function(t){return this.handle(t,f()(m()))}},{key:"del",value:function(){var t=O(a.a.mark(function t(e){return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$confirm("确定要删除吗？");case 2:return t.abrupt("return",this.handle(e,f()(d())));case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"fetchData",value:function(){var t=O(a.a.mark(function t(){var e,n;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.$apollo.query({query:f()(v()),variables:{path:this.path}});case 4:e=t.sent,n=e.data.svnStatus,this.items=this.selected=n,t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](1);case 11:this.loading=!1;case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"refresh",value:function(){return this.fetchData()}},{key:"has_new",get:function(){return!!this.selected.find(function(t){return"unversioned"===t.type})}}]),e}(c["d"]);s["b"]([Object(c["c"])(String)],E.prototype,"path",void 0),E=s["b"]([c["a"]],E);var M=E,L=M,D=n("2877"),z=Object(D["a"])(L,u,l,!1,null,null,null),T=z.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-text",[n("v-radio-group",{attrs:{row:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.radios,function(t,e){return n("v-radio",{key:t,attrs:{label:t,value:e}})}),1),n("v-autocomplete",{attrs:{items:t.structures[t.type],"item-text":"name","item-value":"fullPath",placeholder:"请选择分支"},model:{value:t.selected_item,callback:function(e){t.selected_item=e},expression:"selected_item"}}),n("v-layout",[n("v-spacer"),n("v-btn",{attrs:{small:"",icon:""},on:{click:t.refreshLog}},[n("v-icon",[t._v("refresh")])],1)],1),n("svn-log",{ref:"sl",attrs:{path:t.selected_item,"merge-info":t.mergeInfo},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),n("div",{staticStyle:{"margin-top":"-4em"}},[n("v-btn",{attrs:{color:"primary",disabled:0===t.selected.length,loading:t.merging},on:{click:t.merge}},[t._v("合并")])],1)],1)],1)},F=[],J=n("2638"),A=n.n(J),B=n("3f7a");function U(t){return U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function G(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function H(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){G(i,r,o,a,s,"next",t)}function s(t){G(i,r,o,a,s,"throw",t)}a(void 0)})}}function K(){var t=N(["query($path:String!, $page: Int){\n    svnLog(path: $path, page: $page) {\n      page,\n      total,\n      items {\n        revision\n        author\n        date\n        msg\n        paths {\n          kind\n          action\n          path\n        }\n      }\n    }\n  }"]);return K=function(){return t},t}function N(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e,n){return e&&V(t.prototype,e),n&&V(t,n),t}function X(t,e){return!e||"object"!==U(e)&&"function"!==typeof e?Y(t):e}function Y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}function tt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}function et(t,e){return et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},et(t,e)}var nt=function(t){function e(){var t;return Q(this,e),t=X(this,Z(e).apply(this,arguments)),t.show=!1,t.files=[],t.items=[],t.pagination={page:1,rowsPerPage:10},t.total=0,t.loading=!1,t.headers=[{text:"版本",value:"revision"},{text:"备注",value:"msg"},{text:"提交者",value:"author"},{text:"提交时间",value:"date"},{text:"查看文件",value:"revision"}],t.query=f()(K()),t}return tt(e,t),W(e,[{key:"showFiles",value:function(t){this.show=!0,this.files=t.map(function(t){var e=t.path,n=t.kind,r=t.action;return{kind:n,action:r,path:e}})}},{key:"onPathChange",value:function(t){this.items=[],this.total=0,1===this.pagination.page?this.fetchData(1):this.pagination.page=1}},{key:"input",value:function(t){}},{key:"refresh",value:function(){return this.fetchData(this.pagination.page)}},{key:"fetchData",value:function(){var t=H(a.a.mark(function t(e){var n,r,o,i;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.path){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,t.next=5,this.$apollo.query({query:this.query,variables:{path:this.path,page:e}});case 5:n=t.sent,r=n.data.svnLog,r.page,o=r.items,i=r.total,this.items=o.map(function(t){return t.msg=t.msg.split(/\r?\n/),t}),this.input([]),this.total=i,this.loading=!1;case 14:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"onPagination",value:function(t){this.pagination=t,this.fetchData(t.page)}},{key:"render",value:function(){var t=this,e=arguments[0],n={props:{"select-all":!!this.mergeInfo&&"primary"},on:{"update:pagination":this.onPagination},scopedSlots:{items:function(n){var r=n.item,o=[e("td",[" ",r.revision," "]),e("td",[r.msg.map(function(t,n){return e("div",{key:n},[" ",t," "])})]),e("td",[r.author," "]),e("td",[c["d"].filter("date")(r.date)," "]),e("td",[e("v-icon",{on:{click:function(){return t.showFiles(r.paths)}}},["filter_tilt_shif t "])])];return t.mergeInfo&&(t.mergeInfo.includes(r.revision)&&(o[0]=e("td",{attrs:{title:"已合并"}},[e("v-badge",{attrs:{color:"purple",left:!0}},[e("v-icon",{slot:"badge",attrs:{dark:!0,small:!0}},["alarm_off"]),r.revision])])),o.unshift(e("td",[e("v-checkbox",{attrs:{"input-value":n.selected,color:"primary"},on:{change:function(t){return n.selected=t}}})]))),o}}};return this.mergeInfo&&(n.props.value=this.value,n.o.input=this.input),e("div",[e("v-data-table",A()([{},n,{attrs:{items:this.items,headers:this.headers,pagination:this.pagination,loading:this.loading,"total-items":this.total,"item-key":"revision"}}])),e("my-dialog",{on:{input:function(e){return t.show=e}},attrs:{value:this.show,"max-width":"800px"}},[e("v-list",[this.files.map(function(t){return e("v-list-tile",{key:t.path},[e("v-list-tile-action",["dir"===t.kind?e("v-icon",{attrs:{color:"amber"}},["folder"]):e("v-icon",{attrs:{color:"indigo"}},["mdi-file"])]),e("v-list-tile-content",[t.path])])})])])])}}]),e}(c["d"]);s["b"]([Object(c["c"])(String)],nt.prototype,"path",void 0),s["b"]([Object(c["c"])(String)],nt.prototype,"remoteBase",void 0),s["b"]([Object(c["c"])()],nt.prototype,"mergeInfo",void 0),s["b"]([Object(c["c"])()],nt.prototype,"value",void 0),s["b"]([Object(c["e"])("path")],nt.prototype,"onPathChange",null),s["b"]([Object(c["b"])()],nt.prototype,"input",null),nt=s["b"]([Object(c["a"])({components:{MyDialog:B["a"]}})],nt);var rt,ot,it=nt,at=it,st=Object(D["a"])(at,rt,ot,!1,null,null,null),ct=st.exports;function ut(t){return ut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function lt(){var t=ht(["query($path: String!) {\n        svnStructure(path: $path) {\n          name\n          fullPath\n          type\n          commit {\n            author\n            date\n            revision\n          }\n        }\n      }"]);return lt=function(){return t},t}function pt(){var t=ht(["query($path: String!,$url: String!) {\n        svnMergeInfo(path: $path, url: $url)\n      }"]);return pt=function(){return t},t}function ft(){var t=ht(["mutation($path: String!, $url: String!, $revisions: [Int]!){\n        svnMerge(path: $path, url: $url, revisions: $revisions)\n      }"]);return ft=function(){return t},t}function ht(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function vt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function dt(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){vt(i,r,o,a,s,"next",t)}function s(t){vt(i,r,o,a,s,"throw",t)}a(void 0)})}}function mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e,n){return e&&yt(t.prototype,e),n&&yt(t,n),t}function gt(t,e){return!e||"object"!==ut(e)&&"function"!==typeof e?wt(t):e}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _t(t){return _t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_t(t)}function kt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}function Ot(t,e){return Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ot(t,e)}var xt=function(t){function e(){var t;return mt(this,e),t=gt(this,_t(e).apply(this,arguments)),t.fields=[],t.radios=["branches","tags","trunk"],t.type=0,t.structures=[],t.selected_item="",t.mergeInfo=[],t.selected=[],t.merging=!1,t}return kt(e,t),bt(e,[{key:"created",value:function(){this.getStructure()}},{key:"refreshLog",value:function(){var t=this.$refs.sl;t.refresh()}},{key:"merge",value:function(){var t=dt(a.a.mark(function t(){var e,n,r;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.selected.map(function(t){return t.revision}).sort(function(t,e){return t-e}),this.$emit("message","开始合并"),this.merging=!0,t.prev=3,t.next=6,this.$apollo.mutate({mutation:f()(ft()),variables:{path:this.path,url:this.selected_item,revisions:e}});case 6:n=t.sent,r=n.data.svnMerge,this.getMergeInfo(this.selected_item),this.$emit("message",r),this.$emit("merged"),this.$toast("合并成功"),this.selected=[],t.next=17;break;case 15:t.prev=15,t.t0=t["catch"](3);case 17:this.merging=!1;case 18:case"end":return t.stop()}},t,this,[[3,15]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"getMergeInfo",value:function(){var t=dt(a.a.mark(function t(e){var n,r;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.mergeInfo=[],t.next=3,this.$apollo.query({query:f()(pt()),variables:{path:this.path,url:e}});case 3:n=t.sent,r=n.data.svnMergeInfo,this.mergeInfo=r;case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getStructure",value:function(){var t=dt(a.a.mark(function t(){var e,n;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apollo.query({query:f()(lt()),variables:{path:this.url}});case 2:e=t.sent,n=e.data.svnStructure,this.structures=n;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(c["d"]);s["b"]([Object(c["c"])(String)],xt.prototype,"path",void 0),s["b"]([Object(c["c"])(String)],xt.prototype,"url",void 0),s["b"]([Object(c["c"])(String)],xt.prototype,"root",void 0),s["b"]([Object(c["e"])("selected_item")],xt.prototype,"getMergeInfo",null),s["b"]([Object(c["e"])("url")],xt.prototype,"getStructure",null),xt=s["b"]([Object(c["a"])({components:{SvnLog:ct}})],xt);var St=xt,$t=St,jt=Object(D["a"])($t,R,F,!1,null,null,null),Pt=jt.exports;function It(t){return It="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function qt(){var t=Ct(["query($path:String!){\n        svnInfo(path:$path) {\n          url,\n          repository {\n            root\n          }\n        }\n      }"]);return qt=function(){return t},t}function Ct(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Et(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function Mt(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){Et(i,r,o,a,s,"next",t)}function s(t){Et(i,r,o,a,s,"throw",t)}a(void 0)})}}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,e,n){return e&&Dt(t.prototype,e),n&&Dt(t,n),t}function Tt(t,e){return!e||"object"!==It(e)&&"function"!==typeof e?Rt(t):e}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ft(t){return Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ft(t)}function Jt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}function At(t,e){return At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},At(t,e)}var Bt=function(t){function e(){var t;return Lt(this,e),t=Tt(this,Ft(e).apply(this,arguments)),t.tab="tab-1",t.logs=[],t.log_path="",t.log_remote_base="",t.show_log=!1,t.remote_base="",t.url="",t.root="",t}return Jt(e,t),zt(e,[{key:"created",value:function(){this.getInfo()}},{key:"onMerged",value:function(){var t=this.$refs.sl;t.refresh()}},{key:"showLog",value:function(t){var e,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.show_log=!0,"string"===typeof t?(e=t,n=this.remote_base,r&&(e=this.path+"/"+e)):(e=t.path,n=t.remote_base),this.log_path=e,this.log_remote_base=n}},{key:"onMessage",value:function(t){this.logs.unshift({date:new Date,items:t.split(/\r?\n/)})}},{key:"getInfo",value:function(){var t=Mt(a.a.mark(function t(){var e,n,r,o;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$apollo.query({query:f()(qt()),variables:{path:this.path}});case 2:e=t.sent,n=e.data.svnInfo,r=n.url,o=n.repository.root,this.url=r,this.root=o,this.remote_base=r.replace(o,"");case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"clearLogs",value:function(){this.logs=[]}},{key:"path",get:function(){return this.$route.params.id}}]),e}(c["d"]);Bt=s["b"]([Object(c["a"])({components:{SvnLocal:T,SvnMerge:Pt,SvnLog:ct,MyDialog:B["a"]}})],Bt);var Ut=Bt,Gt=Ut,Ht=n("7d34"),Kt=n.n(Ht),Nt=Object(D["a"])(Gt,r,o,!1,null,null,null);"function"===typeof Kt.a&&Kt()(Nt);e["default"]=Nt.exports}}]);