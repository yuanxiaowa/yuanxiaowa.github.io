(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video-player"],{"55f4":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"con",staticClass:"video-wrap"},[t.direct?r("iframe",{attrs:{width:"100%",height:t.height,src:t.url,frameborder:"0",allowfullscreen:""}}):!t.loading&&t.info&&t.info.url?[t.error_text?r("div",{staticClass:"text-xs-center"},[t._v("\n      出错了\n      "),r("v-btn",{attrs:{color:"red--text"},on:{click:t.reload}},[t._v("重试")])],1):r("video-player",{attrs:{src:t.info.url},on:{error:t.onError}})]:t._e(),r("div",{staticClass:"ma-2"},[t.direct?r("v-select",{attrs:{items:t.items,dense:""},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}}):t._e(),t.loading?r("div",[r("v-progress-circular",{attrs:{color:"primary",indeterminate:""}}),t._v("\n      正在获取数据...\n    ")],1):t.info?r("div",[r("v-layout",[r("h3",[t._v(t._s(t.info.title))]),r("v-spacer"),t.play_url?r("a",{attrs:{href:t.play_url,target:"_blank"}},[t._v("到源网站播放")]):t._e()],1),r("div",{staticClass:"gray--text",domProps:{innerHTML:t._s(t.info.desc)}}),t.info.series?r("div",{staticClass:"mt-2"},[r("b",[t._v(t._s(t.info.series.title)+"剧集列表：")]),t.info.series.more?r("v-tabs",{attrs:{dark:"","slider-color":"yellow"},on:{change:function(e){return t.loadMore(t.info.series.items[e])}}},[t._l(t.info.series.items,function(e){return r("v-tab",{key:e.id,attrs:{ripple:""}},[t._v("\n            "+t._s(e.title)+"\n          ")])}),t._l(t.info.series.items,function(e,n){return r("v-tab-item",{key:e.id},[e.more?r("v-expansion-panel",{on:{input:function(r){return t.loadMore(e.items[r])}}},t._l(e.items,function(e,i){return r("v-expansion-panel-content",{key:e.id,scopedSlots:t._u([{key:"header",fn:function(){return[r("div",[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},[e.items?r("v-list",t._l(e.items,function(e,o){return r("v-list-tile",{key:o,on:{click:function(r){return t.play(e,[n,i,o])}}},[r("v-list-tile-content",[t._v(t._s(e.title))])],1)}),1):r("v-progress-circular",{staticClass:"ma-3",attrs:{indeterminate:"",color:"primary"}})],1)}),1):[e.items?r("v-list",t._l(e.items,function(e,i){return r("v-list-tile",{key:i,on:{click:function(r){return t.play(e,[n,i])}}},[r("v-list-tile-content",[t._v(t._s(e.title))])],1)}),1):r("v-progress-circular",{staticClass:"ma-3",attrs:{indeterminate:"",color:"primary"}})]],2)})],2):r("div",t._l(t.info.series.items,function(e,n){return r("v-btn",{key:n,attrs:{color:e.url===t.play_url?"primary--text":void 0,to:{query:{url:e.url,direct:String(t.direct)}}}},[t._v(t._s(e.title))])}),1)],1):t._e()],1):t._e()],1)],2)},i=[],o=r("4795"),u=r.n(o),s=r("9ab4"),a=r("60a3"),l=r("cdf7"),c=r("5912"),f=r("9530"),p=r.n(f),y=r("4bb5");function v(t){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function d(){var t=h(["\n          query {\n            videoResolvers {\n              id\n              text\n              value\n            }\n          }\n        "]);return d=function(){return t},t}function h(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function b(t,e,r,n,i,o,u){try{var s=t[o](u),a=s.value}catch(l){return void r(l)}s.done?e(a):Promise.resolve(a).then(n,i)}function m(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function u(t){b(o,n,i,u,s,"next",t)}function s(t){b(o,n,i,u,s,"throw",t)}u(void 0)})}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function k(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t}function w(t,e){return!e||"object"!==v(e)&&"function"!==typeof e?x(t):e}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function O(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}var P=Object(y["e"])("music"),$=function(t){function e(){var t;return _(this,e),t=w(this,j(e).apply(this,arguments)),t.items=[],t.source="http://jqaaa.com/jx.php",t.info=null,t.loading=!1,t.error_text="",t.play_url="",t.direct=!0,t.tindex=0,t.height="300px",t}return O(e,t),k(e,[{key:"created",value:function(){var t=m(u.a.mark(function t(){var e,r;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$route.query.type){t.next=6;break}return t.next=3,this.$apollo.query({query:p()(d())});case 3:e=t.sent,r=e.data.videoResolvers,this.items=r;case 6:this.setPlaying(!1);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"beforeRouteUpdate",value:function(){var t=this;if(this.direct="true"===String(this.$route.query.direct),this.$route.query.video_only)this.info={url:this.$route.query.url};else{var e=this.$route.query.arg;this.info&&e||(this.loading=!0,this.play_url=this.$route.query.url,Object(l["c"])(this.play_url).info({url:this.play_url,arg:e}).then(function(e){t.info=e,e.nodirect&&(t.play_url=e.url),t.error_text=""}).finally(function(){t.loading=!1}))}}},{key:"mounted",value:function(){this.height=3*this.$refs.con.offsetWidth/4+"px"}},{key:"onError",value:function(t){}},{key:"reload",value:function(){location.reload()}},{key:"loadMore",value:function(){var t=m(u.a.mark(function t(e){return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.items){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(l["c"])(this.play_url).getDir(e.id);case 4:e.items=t.sent;case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"play",value:function(t,e){this.info.url=t.url,this.info.title=t.title,this.$router.push({query:Object.assign({},this.$route.query,{arg:e.join("-")})})}},{key:"url",get:function(){return"".concat(this.source,"?url=").concat(encodeURIComponent(this.play_url))}}]),e}(a["d"]);s["b"]([P.Mutation],$.prototype,"setPlaying",void 0),s["b"]([Object(a["e"])("$route",{immediate:!0})],$.prototype,"beforeRouteUpdate",null),$=s["b"]([Object(a["a"])({components:{VideoPlayer:c["a"]}})],$);var C=$,S=C,E=(r("a97b"),r("2877")),R=r("724d"),M=r.n(R),T=Object(E["a"])(S,n,i,!1,null,null,null);"function"===typeof M.a&&M()(T);e["default"]=T.exports},"724d":function(t,e){},9035:function(t,e,r){},a97b:function(t,e,r){"use strict";var n=r("9035"),i=r.n(n);i.a}}]);