(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video-index~video-player"],{4127:function(e,t,r){"use strict";var i=r("d233"),n=r("b313"),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,l=Array.prototype.push,s=function(e,t){l.apply(e,o(t)?t:[t])},c=Date.prototype.toISOString,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,indices:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,r,n,a,o,l,c,u,p,f,m,v,y){var g=t;if("function"===typeof c?g=c(r,g):g instanceof Date&&(g=f(g)),null===g){if(a)return l&&!v?l(r,d.encoder,y):r;g=""}if("string"===typeof g||"number"===typeof g||"boolean"===typeof g||i.isBuffer(g)){if(l){var h=v?r:l(r,d.encoder,y);return[m(h)+"="+m(l(g,d.encoder,y))]}return[m(r)+"="+m(String(g))]}var b,k=[];if("undefined"===typeof g)return k;if(Array.isArray(c))b=c;else{var w=Object.keys(g);b=u?w.sort(u):w}for(var S=0;S<b.length;++S){var N=b[S];o&&null===g[N]||(Array.isArray(g)?s(k,e(g[N],n(r,N),n,a,o,l,c,u,p,f,m,v,y)):s(k,e(g[N],r+(p?"."+N:"["+N+"]"),n,a,o,l,c,u,p,f,m,v,y)))}return k};e.exports=function(e,t){var r=e,o=t?i.assign({},t):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!==typeof o.encoder)throw new TypeError("Encoder has to be a function.");var l="undefined"===typeof o.delimiter?d.delimiter:o.delimiter,c="boolean"===typeof o.strictNullHandling?o.strictNullHandling:d.strictNullHandling,p="boolean"===typeof o.skipNulls?o.skipNulls:d.skipNulls,f="boolean"===typeof o.encode?o.encode:d.encode,m="function"===typeof o.encoder?o.encoder:d.encoder,v="function"===typeof o.sort?o.sort:null,y="undefined"===typeof o.allowDots?d.allowDots:!!o.allowDots,g="function"===typeof o.serializeDate?o.serializeDate:d.serializeDate,h="boolean"===typeof o.encodeValuesOnly?o.encodeValuesOnly:d.encodeValuesOnly,b=o.charset||d.charset;if("undefined"!==typeof o.charset&&"utf-8"!==o.charset&&"iso-8859-1"!==o.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if("undefined"===typeof o.format)o.format=n["default"];else if(!Object.prototype.hasOwnProperty.call(n.formatters,o.format))throw new TypeError("Unknown format option provided.");var k,w,S=n.formatters[o.format];"function"===typeof o.filter?(w=o.filter,r=w("",r)):Array.isArray(o.filter)&&(w=o.filter,k=w);var N,j=[];if("object"!==typeof r||null===r)return"";N=o.arrayFormat in a?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var O=a[N];k||(k=Object.keys(r)),v&&k.sort(v);for(var A=0;A<k.length;++A){var x=k[A];p&&null===r[x]||s(j,u(r[x],x,O,c,p,f?m:null,w,v,y,g,S,h,b))}var D=j.join(l),F=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&(F+="iso-8859-1"===b?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),D.length>0?F+D:""}},4328:function(e,t,r){"use strict";var i=r("4127"),n=r("9e6a"),a=r("b313");e.exports={formats:a,parse:n,stringify:i}},"9e6a":function(e,t,r){"use strict";var i=r("d233"),n=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",c=function(e,t){var r,c={},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,p=d.split(t.delimiter,u),f=-1,m=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&(p[r]===s?m="utf-8":p[r]===l&&(m="iso-8859-1"),f=r,r=p.length);for(r=0;r<p.length;++r)if(r!==f){var v,y,g=p[r],h=g.indexOf("]="),b=-1===h?g.indexOf("="):h+1;-1===b?(v=t.decoder(g,a.decoder,m),y=t.strictNullHandling?null:""):(v=t.decoder(g.slice(0,b),a.decoder,m),y=t.decoder(g.slice(b+1),a.decoder,m)),y&&t.interpretNumericEntities&&"iso-8859-1"===m&&(y=o(y)),n.call(c,v)?c[v]=i.combine(c[v],y):c[v]=y}return c},d=function(e,t,r){for(var i=t,n=e.length-1;n>=0;--n){var a,o=e[n];if("[]"===o&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var l="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,s=parseInt(l,10);r.parseArrays||""!==l?!isNaN(s)&&o!==l&&String(s)===l&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(a=[],a[s]=i):a[l]=i:a={0:i}}i=a}return i},u=function(e,t,r){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=a.exec(i),s=l?i.slice(0,l.index):i,c=[];if(s){if(!r.plainObjects&&n.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}var u=0;while(null!==(l=o.exec(i))&&u<r.depth){if(u+=1,!r.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+i.slice(l.index)+"]"),d(c,t,r)}};e.exports=function(e,t){var r=t?i.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||i.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"===typeof r.depth?r.depth:a.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:a.decoder,r.allowDots="undefined"===typeof r.allowDots?a.allowDots:!!r.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,"undefined"!==typeof r.charset&&"utf-8"!==r.charset&&"iso-8859-1"!==r.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if("undefined"===typeof r.charset&&(r.charset=a.charset),""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var n="string"===typeof e?c(e,r):e,o=r.plainObjects?Object.create(null):{},l=Object.keys(n),s=0;s<l.length;++s){var d=l[s],p=u(d,n[d],r);o=i.merge(o,p,r)}return i.compact(o)}},b313:function(e,t,r){"use strict";var i=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},cdf7:function(e,t,r){"use strict";var i=r("bc3a"),n=r.n(i),a=r("9530"),o=r.n(a),l=r("53b8");class s{constructor(){this.origin="https://www.bilibili.com"}async search(e){var t=await n.a.get("https://api.imjad.cn/bilibili/v2/",{params:{get:"search",keyword:e.kw,page:e.page}}),r=t.data,i=r.code,a=r.data,o=r.message;if(0!==i)throw new Error(o);return{page:a.page,pages:-1,items:a.items.archive.map(e=>{return e.url=`https://www.bilibili.com/video/${e.goto}${e.param}`,e})}}async info(e){throw new Error("暂无数据")}}class c{async search(e){var t=await l["a"].query({query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:void 0,variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"kw"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"videoSearch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"kw"},value:{kind:"Variable",name:{kind:"Name",value:"kw"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"page"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"pages"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],loc:{start:0,end:165,source:{body:"query ($kw: String!,$type:String!, $page:Int) {\n        videoSearch(kw:$kw, type:$type,page:$page) {\n          page\n          pages\n          items\n        }\n      }",name:"GraphQL request",locationOffset:{line:1,column:1}}}},variables:e}),r=t.data.videoSearch;return r}async info(e){var t=await l["a"].query({query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:void 0,variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"url"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},defaultValue:void 0,directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"url"},value:{kind:"Variable",name:{kind:"Name",value:"url"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:void 0,name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"url"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"desc"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"rate"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"series"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"nodirect"},arguments:[],directives:[],selectionSet:void 0},{kind:"Field",alias:void 0,name:{kind:"Name",value:"independent"},arguments:[],directives:[],selectionSet:void 0}]}}]}}],loc:{start:0,end:216,source:{body:"query ($url: String!) {\n        video(url:$url) {\n          title\n          type\n          cover\n          url\n          desc\n          rate\n          series\n          nodirect\n          independent\n        }\n      }",name:"GraphQL request",locationOffset:{line:1,column:1}}}},variables:e}),r=t.data.video;return r}}var d=r("4328"),u=r.n(d);class p{constructor(){this.origin="http://www.icourses.cn"}async search(e){let t=e.kw,r=e.page;var i=await n.a.post(`${this.origin}/web//sword/portal/shareSearchPage`,u.a.stringify({kw:t,eduLevel:"",priSubjectLevel:"",subSubjectLevel:"",thirdSubjectLevel:"",provinceId:"",curPage:r,pageSize:20,listType:1})),a=i.data,o=document.createElement("div");o.innerHTML=a;var l=[...o.querySelectorAll(".larPagination-i")].reverse().find(e=>/\d/.test(e.innerHTML)),s=0;l&&(s=+l.innerHTML);var c=[...o.querySelectorAll(".icourse-item-modulebox")].map(e=>{var t=e.querySelector(".icourse-desc-title"),r=t.getAttribute("href"),i=t.innerText,n=e.querySelector("img").getAttribute("src"),a=e.querySelectorAll(".icourse-desc-school"),o=a[1].innerText.trim(),l=a[0].innerText.trim();return{title:i,url:r,cover:n,desc:o,type:l}});return{page:r,pages:s,items:c}}async info(e){var t=e.url.match(/courseId=(\w+)/)[1],r=await n.a.get(`${this.origin}/web/sword/portal/shareChapter?cid=${t}`),i=r.data,a=document.createElement("div");a.innerHTML=i;var o,l="",s="",c=[...a.querySelector("#chapters").children].map(async(e,t)=>{var r,i=e.dataset.id,n=e.querySelector(".chapter-title-text"),a=n.innerText,o=e.querySelectorAll(".chapter-body-content-text");if(o.length>0){var l=[...o].slice(1).map(async(e,t)=>{var r=e.dataset.secid;return{title:e.innerText.trim(),id:r,more:!0,items:null}});r=await Promise.all(l)}return{id:i,title:a,items:r,more:o.length>0}}),d=await Promise.all(c),u={title:s,url:o,series:{more:!0,title:l,items:d}};let p,f=0;if(e.arg){let t=e.arg.split("-"),r=d;for(let e=0;e<t.length-1;e++)p=r[t[e]],r=p.items;f=t[t.length-1]}else{p=d[0];while(p.items)p=p.items[0]}let m=await this.getDir(p.id);return p.items=m,u.url=m[f].url,u.title=m[f].title,u}async getDir(e){var t=await n.a.get(`${this.origin}/web//sword/portal/getRess`,{params:{sectionId:e}}),r=t.data;return r.model.listRes.filter(e=>e.video).map(e=>({title:e.title,url:e.fullResUrl}))}}r.d(t,"a",function(){return g}),r.d(t,"c",function(){return h}),r.d(t,"b",function(){return b}),r.d(t,"d",function(){return k});const f=new s,m=new c,v=new p,y={bilibili:f,icourses:v};function g(e){return y[e]||m}function h(e){return e.startsWith(f.origin)?f:e.startsWith(v.origin)?v:m}async function b(e){var t,r=await n.a.get("https://api.apiopen.top/todayVideo"),i=r.data,a=[];return i.result.forEach(e=>{var r=e.data;"textCard"!==e.type?(r=r.content.data,r.playUrl&&t.items.push({title:r.title,cover:r.cover.detail,desc:r.description,url:r.playUrl})):t&&t.title===r.text||(t={title:r.text,items:[]},a.push(t))}),a.filter(e=>e.items.length>0)}async function k(){var e=await l["a"].query({fetchPolicy:"cache-first",query:o.a`
        query {
          videoSites {
            text
            value
            indirect
          }
        }
      `}),t=e.data.videoSites;return t}},d233:function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){while(e.length>1){var t=e.pop(),r=t.obj[t.prop];if(Array.isArray(r)){for(var i=[],n=0;n<r.length;++n)"undefined"!==typeof r[n]&&i.push(r[n]);t.obj[t.prop]=i}}},o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)"undefined"!==typeof e[i]&&(r[i]=e[i]);return r},l=function e(t,r,n){if(!r)return t;if("object"!==typeof r){if(Array.isArray(t))t.push(r);else{if("object"!==typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!==typeof t)return[t].concat(r);var a=t;return Array.isArray(t)&&!Array.isArray(r)&&(a=o(t,n)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,a){i.call(t,a)?t[a]&&"object"===typeof t[a]?t[a]=e(t[a],r,n):t.push(r):t[a]=r}),t):Object.keys(r).reduce(function(t,a){var o=r[a];return i.call(t,a)?t[a]=e(t[a],o,n):t[a]=o,t},a)},s=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},c=function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(n){return i}},d=function(e,t,r){if(0===e.length)return e;var i="string"===typeof e?e:String(e);if("iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var a="",o=0;o<i.length;++o){var l=i.charCodeAt(o);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122?a+=i.charAt(o):l<128?a+=n[l]:l<2048?a+=n[192|l>>6]+n[128|63&l]:l<55296||l>=57344?a+=n[224|l>>12]+n[128|l>>6&63]+n[128|63&l]:(o+=1,l=65536+((1023&l)<<10|1023&i.charCodeAt(o)),a+=n[240|l>>18]+n[128|l>>12&63]+n[128|l>>6&63]+n[128|63&l])}return a},u=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],o=n.obj[n.prop],l=Object.keys(o),s=0;s<l.length;++s){var c=l[s],d=o[c];"object"===typeof d&&null!==d&&-1===r.indexOf(d)&&(t.push({obj:o,prop:c}),r.push(d))}return a(t),e},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},f=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:o,assign:s,combine:m,compact:u,decode:c,encode:d,isBuffer:f,isRegExp:p,merge:l}}}]);