(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["generator-form~generator-table"],{9498:function(t,e,n){"use strict";var r=n("9fdd");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function u(t){return Object.keys(t).map(function(e){var n=t[e];if(void 0!==n&&null!==n){var r='"';return"string"===typeof n&&n.indexOf('"')>-1&&(r="'"),"".concat(e,"=").concat(r).concat(n).concat(r)}}).filter(Boolean).join(" ")}function l(t){var e=t.name,n=t.attrs,r=t.content,a=t.schema;return a&&a.attrs&&(n=Object.assign({},n,a.attrs)),"input"===e?"<".concat(e).concat(n?" "+u(n):"",">"):(Array.isArray(r)&&(r=r.join("")),"<".concat(e).concat(n?" "+u(n):"",">").concat(r||"","</").concat(e,">"))}function m(t){var e=t.content,n=t.styles,r=t.scripts;return'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\n  <title>表单</title>\n  '.concat(n,"\n</head>\n<body>\n  ").concat(e,"\n  ").concat(r,"\n</body>\n</html>")}var p=function(){function t(){c(this,t),this.scripts=[]}return s(t,[{key:"normalizeSchema",value:function(t,e){var n=this;if(Object.assign(t,e),"object"===t.type||"array"===t.type){var r,a=t.required||[],o=t._path;r="object"===t.type?t.properties=t.properties||{}:t.items.properties=t.items.properties||{},Object.keys(r).forEach(function(e){var c=r[e];a.includes(e)&&(c.required=!0),n.normalizeSchema(c,{_path:n.getName(e,o&&o+("object"===t.type?"":"[]")),_path_parent:o,key:e})})}}},{key:"getId",value:function(t){return t+Math.random().toString().substring(2)}},{key:"getSchemaResult",value:function(t){return"number"===t.schema.type?this.parseNumber(t):"array"===t.schema.type?this.parseArray(t):"boolean"===t.schema.type?this.parseBoolean(t):"object"===t.schema.type?this.parseObject(t):this.parseString(t)}},{key:"getName",value:function(t,e){return e?"".concat(e,"[").concat(t,"]"):t}},{key:"getItemWrap",value:function(t,e){return l({name:"div",attrs:e,content:t})}},{key:"getRules",value:function(t){return{required:t.required,max:t.max,min:t.min,pattern:t.pattern}}},{key:"getExtraAttrs",value:function(t){return t.attrs||{}}},{key:"getLabel",value:function(t,e){return e?"":l({name:"label",content:t.title})}},{key:"parseNumber",value:function(t){var e=t.schema,n=t.ignore_title,r=t.name;return this.getItemWrap([this.getLabel(e,n),l({name:"input",attrs:a({type:"number",value:e.default,name:r},this.getRules(e),this.getExtraAttrs(e))})])}},{key:"parseString",value:function(t){var e=t.schema,n=t.ignore_title,r=t.name;return this.getItemWrap([this.getLabel(e,n),l({name:"input",attrs:a({type:e.format,value:e.default,name:r},this.getRules(e),this.getExtraAttrs(e))})])}},{key:"parseBoolean",value:function(t){var e=t.schema,n=t.ignore_title,r=t.name;return this.getItemWrap([this.getLabel(e,n),l({name:"input",attrs:a({type:"checkbox",checked:e.default?"checked":void 0,name:r},this.getRules(e),this.getExtraAttrs(e))})])}},{key:"parseObject",value:function(t){var e=this,n=t.schema,r=t.ignore_title,a=t.name,o=n.required||[],c=Object.keys(n.properties||{}).map(function(t){var r=n.properties[t];o.includes(t)&&(r.required=!0);var c=e.getName(t,a);return e.getSchemaResult({schema:r,name:c})}).join("");return l({name:"fieldset",attrs:this.getExtraAttrs(n),content:[!r&&n.title?l({name:"legend"}):"",c]})}},{key:"parseArray",value:function(t){var e=this,n=t.schema,r=t.ignore_title,o=t.name,c="",i="",s=this.getId("button"),u=this.getId("table"),m=this.getId("id");return Object.keys(n.items.properties||{}).forEach(function(t){var r=n.items[t];c+=l({name:"th",content:r.title}),i+=l({name:"td",content:e.getSchemaResult({schema:r,name:e.getName(t,"".concat(o,"[${").concat(m,"}]")),ignore_title:!0})})}),c=l({name:"tr",content:[c,l({name:"th",content:"操作"})]}),i=l({name:"tr",content:[i,l({name:"td",content:l({name:"button",attrs:{type:"button",class:"j-del"},content:"删除"})})]}),this.scripts.push("var ".concat(m," = 0\n    var ").concat(s," = document.getElementById('").concat(s,"')\n    var ").concat(u," = document.getElementById('").concat(u,"')\n    ").concat(s,".addEventListener('click', function() {\n      var tr = document.createElement('tr')\n      ").concat(m,"++\n      tr.innerHTML = `").concat(i,"`\n      ").concat(u,".querySelector('tbody').appendChild(tr)\n    })\n    ").concat(u,".addEventListener('click', function(e) {\n      if (e.target.classList.contains('j-del')) {\n        var tr = e.target.parentNode.parentNode\n        tr.parentNode.removeChild(tr)\n      }\n    })")),this.getItemWrap([l({name:"table",attrs:a({id:u,border:"1"},this.getExtraAttrs(n)),content:[r?"":l({name:"caption",content:n.title}),l({name:"thead",content:c}),l({name:"tbody"})]}),l({name:"button",attrs:{type:"button",id:s},content:"添加一行"})])}},{key:"getForm",value:function(t){return l({name:"form",attrs:{action:"",method:"post"},content:t})}},{key:"getAction",value:function(){return l({name:"button",content:"保存"})}},{key:"parse",value:function(t){var e=t.schema,n=t.single_file,r=t.styles,a=t.scripts,o=this.getForm(this.getSchemaResult({schema:e})+this.getAction());return this.scripts.length>0&&(a+="<script>".concat(this.scripts.join("\n"),"</scrip")+"t>"),n?o:m({content:o,styles:r,scripts:a})}}]),t}();function f(t){var e=t.map(function(t){return l({name:"th",content:t.text})}).join("");return l({name:"table",attrs:{style:"width:100%"},content:[l({name:"thead",content:e}),l({name:"tbody"})]})}function d(t){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}function v(t,e){return!e||"object"!==d(e)&&"function"!==typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function j(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}var O=function(t){function e(){var t;return h(this,e),t=v(this,k(e).apply(this,arguments)),t.methods=[],t}return j(e,t),b(e,[{key:"getName",value:function(t,e){return e?/[^\w$]/.test(t)?"".concat(e,"[").concat(t,"]"):"".concat(e,".").concat(t):t}},{key:"getItemWrap",value:function(t,e){return e&&(e.dynamic_prop?(e[":prop"]=e.dynamic_prop.replace(/model\./,""),delete e.prop,delete e.dynamic_prop):e.prop&&(e.prop=e.prop.replace(/model\./,""))),l({name:"el-form-item",attrs:e,content:t})}},{key:"getRules",value:function(t){var e=[],n=t.messages||{};if(t.required&&e.push({required:!0,message:n.required}),(t.minimum||t.maximum)&&e.push({min:t.minimum,max:t.maximum,message:n.range}),"array"===t.type&&e.push({type:"array",message:n.array}),t.format&&e.push({type:t.format,message:n.format}),e.length>0)return JSON.stringify(e)}},{key:"getForm",value:function(t){return this.methods.push("submit() {\n      this.$refs.form.validate((v, data) => {\n        console.log(v, data)\n      })\n    }"),'<el-form ref="form" :model="model" status-icon @submit.native.prevent="submit">'.concat(t,"</el-form>")}},{key:"getAction",value:function(){return this.methods.push("reset() {\n      console.log(this.model)\n    }"),this.getItemWrap(l({name:"el-button",attrs:{type:"primary","native-type":"submit"},content:"提交"})+l({name:"el-button",attrs:{"@click":"reset"},content:"重置"}))}},{key:"parseNumber",value:function(t){var e,n=t.schema,r=t.ignore_title,a=t.name,o=t.key,c=t.parent,i=t.dynamic_prop,s=r?void 0:n.title;return c&&(c[o]=n.default||null),e="rate"===n.ui?l({name:"el-rate",attrs:{"v-model":a},schema:n}):l({name:"el-input-number",attrs:{"v-model":a,min:n.minimum,max:n.maximum},schema:n}),this.getItemWrap(e,{label:s,prop:a,dynamic_prop:i,":rules":this.getRules(n)})}},{key:"parseString",value:function(t){var e,n=t.schema,r=t.ignore_title,a=t.name,o=t.key,c=t.parent,i=t.dynamic_prop,s=r?void 0:n.title;return c&&(c[o]=n.default||null),e=n.enum?"radios"===n.ui?l({name:"el-radio-group",attrs:{"v-model":a},content:n.enum.map(function(t){return l({name:"el-radio",attrs:{label:t}})}),schema:n}):l({name:"el-select",attrs:{"v-model":a},content:n.enum.map(function(t){return l({name:"el-option",attrs:{label:t,value:t}})}),schema:n}):["date","daterange","datetime","datetimerange"].includes(n.format)?l({name:"el-date-picker",attrs:{"v-model":a,type:n.format},schema:n}):"time"===n.format?l({name:"el-time-select",attrs:{"v-model":a},schema:n}):"image"===n.format?l({name:"el-upload",attrs:{"v-model":a,drag:!0,action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card"},content:'<i class="el-icon-upload"></i>\n  <div class="el-upload__text">将文件拖到此处，或<em>点击上传</em></div>\n  <div class="el-upload__tip" slot="tip">只能上传jpg/png文件，且不超过500kb</div>',schema:n}):"color"===n.format?l({name:"el-color-picker",attrs:{"v-model":a},schema:n}):l({name:"el-input",attrs:{"v-model":a},schema:n}),this.getItemWrap(e,{label:s,prop:a,dynamic_prop:i,":rules":this.getRules(n)})}},{key:"parseBoolean",value:function(t){var e,n=t.schema,r=t.ignore_title,a=t.name,o=t.key,c=t.parent,i=t.dynamic_prop,s=r?void 0:n.title;return c&&(c[o]=n.default||null),e="switch"===n.ui?l({name:"el-switch",attrs:{"v-model":a},schema:n}):l({name:"el-checkbox",attrs:{"v-model":a},schema:n}),this.getItemWrap(e,{label:s,prop:a,dynamic_prop:i,":rules":this.getRules(n)})}},{key:"parseObject",value:function(t){var e=this,n=t.schema,r=t.ignore_title,a=t.name,o=t.key,c=t.parent,i=t.dynamic_prop,s=r?void 0:n.title,u=c&&(c[o]=n.default||{}),m=Object.keys(n.properties||{}).map(function(t){var r=n.properties[t];return e.getSchemaResult({schema:r,key:t,name:e.getName(t,a),parent:u,dynamic_prop:i})}).join("");return l({name:"el-card",attrs:{class:"box-card"},content:[l({name:"div",attrs:{slot:"header"},content:s}),m]})}},{key:"parseArray",value:function(t){var e=this,n=t.schema,r=t.ignore_title,a=t.name,o=t.key,c=t.parent,i=t.dynamic_prop,s=r?void 0:n.title;c&&(c[o]=n.default||[]);var u={},m=n.items.properties||{},p=Object.keys(m).map(function(t){var n=m[t];return u[t]=n.default||null,l({name:"el-table-column",attrs:{label:n.title,prop:t},content:l({name:"template",attrs:{"slot-scope":"{row,$index}"},content:e.getSchemaResult({schema:n,name:e.getName(t,"row"),dynamic_prop:"`".concat(a,".${$index}.").concat(t,"`"),key:t,ignore_title:!0})})})}),f=this.getId("delLine");this.methods.push("".concat(f,"({$index}){\n      this.").concat(a,".splice($index, 1)\n    }")),p.push(l({name:"el-table-column",attrs:{label:"操作"},content:l({name:"template",attrs:{"slot-scope":"scope"},content:l({name:"el-button",attrs:{"@click":"".concat(f,"(scope)"),size:"mini",type:"danger"},content:"删除"})})}));var d=this.getId("newLine");return this.methods.push("".concat(d,"(){\n      this.").concat(a,".push(").concat(JSON.stringify(u),")\n    }")),this.getItemWrap([l({name:"el-table",attrs:{":data":a},content:p.join(""),schema:n}),l({name:"el-button",attrs:{"@click":d,size:"mini",type:"success"},content:"新增"})],{label:s,prop:a,dynamic_prop:i,":rules":this.getRules(n)})}},{key:"parse",value:function(t){var e=t.schema,n=t.single_file,r=t.styles,a=t.scripts,o={},c=this.getForm(this.getSchemaResult({schema:e,name:"model",key:"model",parent:o})+this.getAction()),i="{\n      ".concat("data() {\n        return ".concat(JSON.stringify(o,null,2),"\n      },\n      methods: {\n        ").concat(this.methods.join(",\n"),"\n      }"),"\n    }");return n?"<template>\n      ".concat(c,"\n      </template>\n      <script>\n      export default ").concat(i,"\n      </scrip")+"t>":(a+="<script>var vue = new Vue(".concat(i,").$mount('#app')</scrip")+"t>",m({content:'<div id="app">'.concat(c,"</div>"),scripts:a,styles:r}))}}]),e}(p);function _(t){var e=t.map(function(t){return l({name:"el-table-column",attrs:{prop:t.name,label:t.text}})}).join("");return l({name:"el-table",attrs:{":data":"tableData"},content:e})}function S(t){return S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e,n){return e&&I(t.prototype,e),n&&I(t,n),t}function N(t,e){return!e||"object"!==S(e)&&"function"!==typeof e?R(t):e}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function q(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}function A(t,e){return A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},A(t,e)}var F=function(t){function e(){return x(this,e),N(this,P(e).apply(this,arguments))}return q(e,t),E(e,[{key:"parseBoolean",value:function(){return'<Form.Item>\n          {getFieldDecorator(\'remember\', {\n            valuePropName: \'checked\',\n            initialValue: true,\n          })(\n            <Checkbox>Remember me</Checkbox>\n          )}\n          <a className="login-form-forgot" href="">Forgot password</a>\n          <Button type="primary" htmlType="submit" className="login-form-button">\n            Log in\n          </Button>\n          Or <a href="">register now!</a>\n        </Form.Item>'}},{key:"parseString",value:function(){return"<Form.Item>\n          {getFieldDecorator('userName', {\n            rules: [{ required: true, message: 'Please input your username!' }],\n          })(\n            <Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Username\" />\n          )}\n        </Form.Item>"}},{key:"getForm",value:function(t){return"<Form onSubmit={this.handleSubmit}>".concat(t,"</Form>")}}]),e}(p);function L(t){var e=t.map(function(t){return{title:t.text,dataIndex:t.name,key:t.name}});return"<Table dataSource={dataSource} columns={".concat(JSON.stringify(e),"} />")}n.d(e,"d",function(){return C}),n.d(e,"c",function(){return T}),n.d(e,"b",function(){return B}),n.d(e,"a",function(){return $}),n.d(e,"e",function(){return D});var W={vue:{uis:[{name:"element-ui",scripts:["https://cdn.bootcss.com/element-ui/2.5.4/index.js"],links:["https://cdn.bootcss.com/element-ui/2.5.4/theme-chalk/index.css"]},{name:"iview",scripts:["https://cdn.bootcss.com/iview/3.2.2-rc.1/iview.min.js"],links:["https://cdn.bootcss.com/iview/3.2.2-rc.1/styles/iview.css"]}],scripts:["https://cdn.bootcss.com/vue/2.6.4/vue.min.js"]},react:{uis:[{name:"anted",scripts:["https://cdn.bootcss.com/antd/3.13.2/antd.js"],links:["https://cdn.bootcss.com/antd/3.13.2/antd.css"]}],scripts:["https://cdn.bootcss.com/react/16.8.1/cjs/react.production.min.js","https://cdn.bootcss.com/react-dom/16.8.1/cjs/react-dom.production.min.js","https://cdn.bootcss.com/babel-standalone/6.26.0/babel.min.js"]},jquery:{uis:[{name:"bootstrap",scripts:["https://cdn.bootcss.com/twitter-bootstrap/4.2.1/js/bootstrap.min.js"],links:["https://cdn.bootcss.com/twitter-bootstrap/4.2.1/css/bootstrap.min.css"]}],scripts:["https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js","https://cdn.bootcss.com/jquery-validate/1.19.0/jquery.validate.min.js"]},"通用":{uis:[{name:"通用",scripts:[],links:[]}],scripts:[]}};function C(){return[{value:"file",text:"单文件格式"},{value:"html",text:"html"}]}function T(){return Object.keys(W)}function B(t){return Object(r["a"])(W[t])}function $(t,e){e.framework;var n,r=e.ui,a=e.output_format,o=e.scripts,c=e.styles;return n="element-ui"===r?new O:"antd"===r?new F:new p,n.normalizeSchema(t,{}),n.parse({schema:t,single_file:"file"===a,scripts:o,styles:c})}function D(t,e){return"element-ui"===e?_(t):"antd"===e?L(t):f(t)}},"9fdd":function(t,e,n){"use strict";function r(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var a=n("4aa2"),o=Object(a["a"])(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),c=o;function i(t,e,n,a){var o=function(r){var o=e.length,c=0;while(c<o){if(t===e[c])return n[c];c+=1}for(var s in e[c+1]=t,n[c+1]=r,t)r[s]=a?i(t[s],e,n,!0):t[s];return r};switch(c(t)){case"Object":return o({});case"Array":return o([]);case"Date":return new Date(t.valueOf());case"RegExp":return r(t);default:return t}}var s=Object(a["a"])(function(t){return null!=t&&"function"===typeof t.clone?t.clone():i(t,[],[],!0)});e["a"]=s}}]);