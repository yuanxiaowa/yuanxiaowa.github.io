(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["explorer-id"],{"0857":function(t,e,i){},3401:function(t,e,i){"use strict";var n=i("0857"),a=i.n(n);a.a},"78a6":function(t,e,i){"use strict";var n=i("d037"),a=i.n(n);a.a},"9cc5":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",[i("file-manager",{attrs:{path:t.path},on:{change:t.onPathChange}})],1)},a=[],r=i("9ab4"),s=i("60a3"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-layout",{attrs:{"align-center":""}},[t.editing?[i("v-text-field",{ref:"tf",on:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.endEdit(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.editing=!1}]},model:{value:t.editingPath,callback:function(e){t.editingPath=e},expression:"editingPath"}}),i("v-btn",{attrs:{icon:"",small:"",color:"primary--text"},on:{click:t.endEdit}},[i("v-icon",[t._v("check_circle")])],1)]:[i("v-breadcrumbs",{attrs:{divider:t.sep,items:t.breads},scopedSlots:t._u([{key:"item",fn:function(e){var n=e.item;return i("a",{on:{click:function(e){t.change(n.path)}}},[t._v("\n          "+t._s(n.text)+"\n        ")])}}])}),i("v-btn",{attrs:{icon:"",small:"",color:"primary--text"},on:{click:t.startEdit}},[i("v-icon",[t._v("edit")])],1)]],2),i("v-list",[i("v-fade-transition",{attrs:{group:"","leave-absolute":""}},t._l(t.items,function(e){return i("v-list-tile",{key:e.path,attrs:{disabled:e.forbidden},on:{click:function(i){t.onClickItem(e)}}},[i("v-list-tile-avatar",[e.forbidden?i("v-badge",{attrs:{color:"accent--text",left:""}},[i("v-icon",{attrs:{slot:"badge"},slot:"badge"},[t._v("lock")]),i("v-icon",[t._v("file")])],1):i("v-icon",{attrs:{color:"folder"===e.type?"secondary":"primary"}},[t._v("mdi-"+t._s(e.icon))])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(e.name))])],1)],1)}),1)],1),i("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("v-card",{attrs:{color:"primary",dark:""}},[i("v-card-text",[t._v("\n        正在加载资源...\n        "),i("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},l=[],c=i("e53d"),d=i.n(c),h=i("4758");let p=class extends s["d"]{constructor(){super(...arguments),this.files=[],this.editing=!1,this.editingPath=""}change(t){}startEdit(){this.editing=!0,this.editingPath=this.path,this.$nextTick(()=>{this.$refs.tf.focus()})}endEdit(){this.editing=!1,this.$emit("change",this.editingPath),this.editingPath=""}onClickItem(t){"folder"===t.type?this.$emit("change",t.path):window.open(Object(h["a"])(t.path))}get loading(){return this.$apollo&&this.$apollo.loading}get apollo(){return{files:{prefetch:!0,query:d.a,variables(){return{path:this.path}}}}}get items(){const t={html:"html5",pdf:"file-pdf",doc:"file-word",docx:"file-word"};return this.files.map(e=>{var i;if("folder"===e.type)i="folder";else{let n=e.name,a=n.substring(n.lastIndexOf(".")+1).toLowerCase();i=/^(png|jpe?g|ico|webp|bmp|svg)$/.test(a)?"image":/^(mp3|wmv)$/.test(a)?"file-audio":/^(mp4|wav|ogg)$/.test(a)?"video":t[a]||"file"}return Object.assign({icon:i},e)})}get breads(){var t=this.path.split(this.sep),e=[];return t.reduce((t,i)=>{var n=t+this.sep+i;return e.push({path:n,text:i}),n}),this.path.startsWith("/")||this.path.startsWith("\\")?e.unshift({path:"/",text:"root"}):e.unshift({path:t[0],text:t[0]}),e}get sep(){return this.path.includes("/")?"/":"\\"}};r["a"]([Object(s["c"])(String)],p.prototype,"path",void 0),r["a"]([Object(s["b"])()],p.prototype,"change",null),p=r["a"]([Object(s["a"])({})],p);var u=p,v=u,f=(i("3401"),i("2877")),g=Object(f["a"])(v,o,l,!1,null,null,null);g.options.__file="FileManager.vue";var m=g.exports;let b=class extends s["d"]{onPathChange(t){this.$router.push({params:{id:t}})}get path(){return this.$route.params.id}};b=r["a"]([Object(s["a"])({components:{FileManager:m}})],b);var _=b,k=_,x=(i("78a6"),Object(f["a"])(k,n,a,!1,null,null,null));x.options.__file="_id.vue";e["default"]=x.exports},d037:function(t,e,i){}}]);